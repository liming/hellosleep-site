
mixin post-meta(post, page)
  .post-meta
    i.fa.fa-user
    span #{post.authorname}
    i.fa.fa-clock-o
    span #{post.formatedPublishedDate} 
    if page != 'home'
      if post.originUrl
        i.fa.fa-external-link
        span
          a(href=post.originUrl) 原文连接
    else
      i.fa.fa-link
      span
        a(href='/' + post.type)
          =post.typename

mixin content-post(post)
  article
    h1
      =post.title
    +post-meta(post)
    // TODO: add editor quick link
    p
      !=post.content.extended
    #post-tools
      
mixin content-tip(tip)
  .single-post
    blockquote
      p
        !=tip.content
    .meta(style="padding-left: 0.5em")
      span
        a(href=tip.url target='_blank') 引用原文
    

mixin content-posts(category, posts)
  article.real-content
    h1
      =category.name
    p
      != category.description
    h2 文章列表
    ul.article-index
      each p in posts
        li
          a(href='/tutorial/' + p.key)
            =p.title

mixin brief-post(post, page)
  article.single-post
    .post-title
      a(href='/' + post.type + '/' + post.key)
        =post.title
    +post-meta(post, page)
    .content-brief
      != post.content.short

mixin home-tip(tip)
  .single-tip
    blockquote
      =tip.content
      
mixin pagination(posts)
  if posts.totalPages > 1
    ul.pagination
      if posts.previous
        li: a(href='?page=' + posts.previous): i.fa.fa-angle-left
      else
        li.disabled: a(href='?page=' + 1): i.fa.fa-angle-left
      each p, i in posts.pages
        li(class=posts.currentPage === p ? 'active' : null)
          a(href='?page=' + (p === '...' ? (i ? posts.totalPages : 1) : p ))= p
      if posts.next
        li: a(href='?page=' + posts.next): i.fa.fa-angle-right
      else
        li.disabled: a(href='?page=' + posts.totalPages): i.fa.fa-angle-right