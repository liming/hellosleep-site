 /*
 * # Semantic UI - 2.2.2
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,i){e.site=e.fn.site=function(o){var r,s,a=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),f=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),m=f.namespace,h=f.error,g="module-"+m,v=e(n),p=v,b=this,y=p.data(g);return r={initialize:function(){r.instantiate()},instantiate:function(){r.verbose("Storing instance of site",r),y=r,p.data(g,r)},normalize:function(){r.fix.console(),r.fix.requestAnimationFrame()},fix:{console:function(){r.debug("Normalizing window.console"),console!==i&&console.log!==i||(r.verbose("Console not available, normalizing events"),r.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(r.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(r.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){r.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){r.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(r.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){r.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){r.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,s){o="string"==typeof o?"all"===o?f.modules:[o]:o||f.modules,s=s===i||s,e.each(o,function(i,o){var a,l=!r.moduleExists(o)||(e.fn[o].settings.namespace||!1);r.moduleExists(o)&&(r.verbose("Changing default setting",t,n,o),e.fn[o].settings[t]=n,s&&l&&(a=e(":data(module-"+l+")"),a.length>0&&(r.verbose("Modifying existing settings",a),a[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||f.modules,o=o===i||o,e.each(n,function(n,i){var s;r.moduleExists(i)&&(r.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&m&&(s=e(":data(module-"+m+")"),s.length>0&&(r.verbose("Modifying existing settings",s),s[i]("setting",t))))})}},enable:{console:function(){r.console(!0)},debug:function(e,t){e=e||f.modules,r.debug("Enabling debug for modules",e),r.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||f.modules,r.debug("Enabling verbose debug for modules",e),r.change.setting("verbose",!0,e,t)}},disable:{console:function(){r.console(!1)},debug:function(e,t){e=e||f.modules,r.debug("Disabling debug for modules",e),r.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||f.modules,r.debug("Disabling verbose debug for modules",e),r.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void r.error(h.console);r.debug("Restoring console function"),t.console=y.cache.console}else r.debug("Disabling console function"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){r.verbose("Destroying previous site for",p),p.removeData(g)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},debug:function(){f.debug&&(f.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,f.name+":"),r.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,f.name+":"),r.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,l.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(r.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,l,c,u=y;return n=n||d,o=b||o,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var s=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[s])&&n!=a)u=u[s];else{if(u[s]!==i)return l=u[s],!1;if(!e.isPlainObject(u[o])||n==a)return u[o]!==i?(l=u[o],!1):(r.error(h.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(o,n):l!==i&&(c=l),e.isArray(s)?s.push(c):s!==i?s=[s,c]:c!==i&&(s=c),l}},u?(y===i&&r.initialize(),r.invoke(c)):(y!==i&&r.destroy(),r.initialize()),s!==i?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var o,r=e(this),s=r.selector||"",a=(new Date).getTime(),l=[],c=arguments[0],u=arguments[1],d="string"==typeof c,f=[].slice.call(arguments,1);return r.each(function(){var m,h,g,v,p,b,y,x,C,k,w,S,T,A,E,R,D,F,O=e(this),I=this,L=[],q=!1;F={initialize:function(){F.get.settings(),d?(D===i&&F.instantiate(),F.invoke(c)):(D!==i&&D.invoke("destroy"),F.verbose("Initializing form validation",O,x),F.bindEvents(),F.set.defaults(),F.instantiate())},instantiate:function(){F.verbose("Storing instance of module",F),D=F,O.data(E,F)},destroy:function(){F.verbose("Destroying previous module",D),F.removeEvents(),O.removeData(E)},refresh:function(){F.verbose("Refreshing selector cache"),m=O.find(w.field),h=O.find(w.group),g=O.find(w.message),v=O.find(w.prompt),p=O.find(w.submit),b=O.find(w.clear),y=O.find(w.reset)},submit:function(){F.verbose("Submitting form",O),O.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+R,function(e){F[n](),e.preventDefault()})},bindEvents:function(){F.verbose("Attaching form events"),O.on("submit"+R,F.validate.form).on("blur"+R,w.field,F.event.field.blur).on("click"+R,w.submit,F.submit).on("click"+R,w.reset,F.reset).on("click"+R,w.clear,F.clear),x.keyboardShortcuts&&O.on("keydown"+R,w.field,F.event.field.keydown),m.each(function(){var t=e(this),n=t.prop("type"),i=F.get.changeEvent(n,t);e(this).on(i+R,F.event.field.change)})},clear:function(){m.each(function(){var t=e(this),n=t.parent(),i=t.closest(h),o=i.find(w.prompt),r=t.data(k.defaultValue)||"",s=n.is(w.uiCheckbox),a=n.is(w.uiDropdown),l=i.hasClass(S.error);l&&(F.verbose("Resetting error on field",i),i.removeClass(S.error),o.remove()),a?(F.verbose("Resetting dropdown value",n,r),n.dropdown("clear")):s?t.prop("checked",!1):(F.verbose("Resetting field value",t,r),t.val(""))})},reset:function(){m.each(function(){var t=e(this),n=t.parent(),o=t.closest(h),r=o.find(w.prompt),s=t.data(k.defaultValue),a=n.is(w.uiCheckbox),l=n.is(w.uiDropdown),c=o.hasClass(S.error);s!==i&&(c&&(F.verbose("Resetting error on field",o),o.removeClass(S.error),r.remove()),l?(F.verbose("Resetting dropdown value",n,s),n.dropdown("restore defaults")):a?(F.verbose("Resetting checkbox value",n,s),t.prop("checked",s)):(F.verbose("Resetting field value",t,s),t.val(s)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(x.regExp.bracket)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):F.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(){var t=!0;return F.verbose("Checking if form is valid"),e.each(C,function(e,n){F.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){O.off(R),m.off(R),p.off(R),m.off(R)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o=n.is(w.input),r=n.is(w.checkbox),s=n.closest(w.uiDropdown).length>0,a={enter:13,escape:27};i==a.escape&&(F.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||i!=a.enter||!o||s||r||(q||(n.one("keyup"+R,F.event.field.keyup),F.submit(),F.debug("Enter pressed on input submitting form")),q=!0)},keyup:function(){q=!1},blur:function(t){var n=e(this),i=n.closest(h),o=F.get.validation(n);i.hasClass(S.error)?(F.debug("Revalidating field",n,o),o&&F.validate.field(o)):"blur"!=x.on&&"change"!=x.on||o&&F.validate.field(o)},change:function(t){var n=e(this),i=n.closest(h),o=F.get.validation(n);("change"==x.on||i.hasClass(S.error)&&x.revalidate)&&(clearTimeout(F.timer),F.timer=setTimeout(function(){F.debug("Revalidating field",n,F.get.validation(n)),F.validate.field(o)},x.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!F.is.bracketedRule(e))&&e.type.match(x.regExp.bracket)[1]+""},ruleName:function(e){return F.is.bracketedRule(e)?e.type.replace(e.type.match(x.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":F.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},prompt:function(e,t){var n,i,o,r=F.get.ruleName(e),s=F.get.ancillaryValue(e),a=e.prompt||x.prompt[r]||x.text.unspecifiedRule,l=a.search("{value}")!==-1,c=a.search("{name}")!==-1;return(c||l)&&(i=F.get.field(t.identifier)),l&&(a=a.replace("{value}",i.val())),c&&(n=i.closest(w.group).find("label").eq(0),o=1==n.length?n.text():i.prop("placeholder")||x.text.unspecifiedField,a=a.replace("{name}",o)),a=a.replace("{identifier}",t.identifier),a=a.replace("{ruleValue}",s),e.prompt||F.verbose("Using default validation prompt for type",a,r),a},settings:function(){if(e.isPlainObject(t)){var n,o=Object.keys(t),r=o.length>0&&(t[o[0]].identifier!==i&&t[o[0]].rules!==i);r?(x=e.extend(!0,{},e.fn.form.settings,u),C=e.extend({},e.fn.form.settings.defaults,t),F.error(x.error.oldSyntax,I),F.verbose("Extending settings from legacy parameters",C,x)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,i){"string"==typeof i&&(i=[i]),t.fields[n]={rules:[]},e.each(i,function(e,i){t.fields[n].rules.push({type:i})})})),x=e.extend(!0,{},e.fn.form.settings,t),C=e.extend({},e.fn.form.settings.defaults,x.fields),F.verbose("Extending settings",C,x))}else x=e.fn.form.settings,C=e.fn.form.settings.defaults,F.verbose("Using default form validation",C,x);A=x.namespace,k=x.metadata,w=x.selector,S=x.className,T=x.error,E="module-"+A,R="."+A,D=O.data(E),F.refresh()},field:function(t){return F.verbose("Finding field with identifier",t),m.filter("#"+t).length>0?m.filter("#"+t):m.filter('[name="'+t+'"]').length>0?m.filter('[name="'+t+'"]'):m.filter('[name="'+t+'[]"]').length>0?m.filter('[name="'+t+'[]"]'):m.filter("[data-"+k.validate+'="'+t+'"]').length>0?m.filter("[data-"+k.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(F.get.field(t))}),n},validation:function(t){var n,i;return!!C&&(e.each(C,function(e,o){i=o.identifier||e,F.get.field(i)[0]==t[0]&&(o.identifier=i,n=o)}),n||!1)},value:function(e){var t,n=[];return n.push(e),t=F.get.values.call(I,n),t[e]},values:function(t){var n=e.isArray(t)?F.get.fields(t):m,i={};return n.each(function(t,n){var o=e(n),r=(o.prop("type"),o.prop("name")),s=o.val(),a=o.is(w.checkbox),l=o.is(w.radio),c=r.indexOf("[]")!==-1,u=!!a&&o.is(":checked");r&&(c?(r=r.replace("[]",""),i[r]||(i[r]=[]),a?u?i[r].push(s||!0):i[r].push(!1):i[r].push(s)):l?u&&(i[r]=s):a?u?i[r]=s||!0:i[r]=!1:i[r]=s)}),i}},has:{field:function(e){return F.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&F.error(T.identifier,e),m.filter("#"+e).length>0||(m.filter('[name="'+e+'"]').length>0||m.filter("[data-"+k.validate+'="'+e+'"]').length>0)}},add:{prompt:function(t,n){var o=F.get.field(t),r=o.closest(h),s=r.children(w.prompt),a=0!==s.length;n="string"==typeof n?[n]:n,F.verbose("Adding field error state",t),r.addClass(S.error),x.inline&&(a||(s=x.templates.prompt(n),s.appendTo(r)),s.html(n[0]),a?F.verbose("Inline errors are disabled, no inline error added",t):x.transition&&e.fn.transition!==i&&O.transition("is supported")?(F.verbose("Displaying error with css transition",x.transition),s.transition(x.transition+" in",x.duration)):(F.verbose("Displaying error with fallback javascript animation"),s.fadeIn(x.duration)))},errors:function(e){F.debug("Adding form error messages",e),F.set.error(),g.html(x.templates.error(e))}},remove:{prompt:function(t){var n=F.get.field(t),o=n.closest(h),r=o.children(w.prompt);o.removeClass(S.error),x.inline&&r.is(":visible")&&(F.verbose("Removing prompt for field",t),x.transition&&e.fn.transition!==i&&O.transition("is supported")?r.transition(x.transition+" out",x.duration,function(){r.remove()}):r.fadeOut(x.duration,function(){r.remove()}))}},set:{success:function(){O.removeClass(S.error).addClass(S.success)},defaults:function(){m.each(function(){var t=e(this),n=t.filter(w.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(k.defaultValue,i)})},error:function(){O.removeClass(S.success).addClass(S.error)},value:function(e,t){var n={};return n[e]=t,F.set.values.call(I,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,o=F.get.field(t),r=o.parent(),s=e.isArray(n),a=r.is(w.uiCheckbox),l=r.is(w.uiDropdown),c=o.is(w.radio)&&a,u=o.length>0;u&&(s&&a?(F.verbose("Selecting multiple",n,o),r.checkbox("uncheck"),e.each(n,function(e,t){i=o.filter('[value="'+t+'"]'),r=i.parent(),i.length>0&&r.checkbox("check")})):c?(F.verbose("Selecting radio value",n,o),o.filter('[value="'+n+'"]').parent(w.uiCheckbox).checkbox("check")):a?(F.verbose("Setting checkbox value",n,r),n===!0?r.checkbox("check"):r.checkbox("uncheck")):l?(F.verbose("Setting dropdown value",n,r),r.dropdown("set selected",n)):(F.verbose("Setting field value",n,o),o.val(n)))})}},validate:{form:function(e,t){var n=F.get.values();if(q)return!1;if(L=[],F.is.valid()){if(F.debug("Form has no validation errors, submitting"),F.set.success(),t!==!0)return x.onSuccess.call(I,e,n)}else if(F.debug("Form has errors"),F.set.error(),x.inline||F.add.errors(L),O.data("moduleApi")!==i&&e.stopImmediatePropagation(),t!==!0)return x.onFailure.call(I,L,n)},field:function(t,n){var o=t.identifier||n,r=F.get.field(o),s=!!t.depends&&F.get.field(t.depends),a=!0,l=[];return t.identifier||(F.debug("Using field name as identifier",o),t.identifier=o),r.prop("disabled")?(F.debug("Field is disabled. Skipping",o),a=!0):t.optional&&F.is.blank(r)?(F.debug("Field is optional and blank. Skipping",o),a=!0):t.depends&&F.is.empty(s)?(F.debug("Field depends on another value that is not present or empty. Skipping",s),a=!0):t.rules!==i&&e.each(t.rules,function(e,n){F.has.field(o)&&!F.validate.rule(t,n)&&(F.debug("Field is invalid",o,n.type),l.push(F.get.prompt(n,t)),a=!1)}),a?(F.remove.prompt(o,l),x.onValid.call(r),!0):(L=L.concat(l),F.add.prompt(o,l),x.onInvalid.call(r,l),!1)},rule:function(t,n){var o=F.get.field(t.identifier),r=(n.type,o.val()),s=F.get.ancillaryValue(n),a=F.get.ruleName(n),l=x.rules[a];return e.isFunction(l)?(r=r===i||""===r||null===r?"":e.trim(r+""),l.call(o,r,s)):void F.error(T.noRule,a)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,F,t);else{if(n===i)return F[t];F[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,x.name+":"),F.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),F.verbose.apply(console,arguments)))},error:function(){x.silent||(F.error=Function.prototype.bind.call(console.error,console,x.name+":"),F.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var t=x.name+":",n=0;a=!1,clearTimeout(F.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,a,l,c=D;return n=n||f,r=I||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==i)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==i&&(a=c[o],!1);c=c[o]}})),e.isFunction(a)?l=a.apply(r,n):a!==i&&(l=a),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),a}},F.initialize()}),o!==i?o:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===i||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){var i,o=n.match(e.fn.form.settings.regExp.flags);return o&&(n=o.length>=2?o[1]:n,i=o.length>=3?o[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var o,r,s,a=e.fn.form.settings.regExp.integer;return n&&["",".."].indexOf(n)===-1&&(n.indexOf("..")==-1?a.test(n)&&(o=r=n-0):(s=n.split("..",2),a.test(s[0])&&(o=s[0]-0),a.test(s[1])&&(r=s[1]-0))),a.test(t)&&(o===i||t>=o)&&(r===i||t<=r)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n,"i"))!==-1},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n))!==-1},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n,"i"))===-1},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n))===-1},minLength:function(e,t){return e!==i&&e.length>=t},length:function(e,t){return e!==i&&e.length>=t},exactLength:function(e,t){return e!==i&&e.length==t},maxLength:function(e,t){return e!==i&&e.length<=t},match:function(t,n){var o;e(this);return e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i&&t.toString()==o.toString()},different:function(t,n){var o;e(this);return e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i&&t.toString()!==o.toString()},creditCard:function(t,n){var i,o,r={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},s={},a=!1,l="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(l&&(e.each(l,function(n,i){o=r[i],o&&(s={length:e.inArray(t.length,o.length)!==-1,pattern:t.search(o.pattern)!==-1},s.length&&s.pattern&&(a=!0))}),!a))return!1;if(i={number:e.inArray(t.length,r.unionPay.length)!==-1,pattern:t.search(r.unionPay.pattern)!==-1},i.number&&i.pattern)return!0;for(var c=t.length,u=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;c--;)f+=d[u][parseInt(t.charAt(c),10)],u^=1;return f%10===0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&e.search(",")===-1:e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?e.search(",")===-1:e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.checkbox=function(o){var r,s=e(this),a=s.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return s.each(function(){var s,m,h=e.extend(!0,{},e.fn.checkbox.settings,o),g=h.className,v=h.namespace,p=h.selector,b=h.error,y="."+v,x="module-"+v,C=e(this),k=e(this).children(p.label),w=e(this).children(p.input),S=w[0],T=!1,A=!1,E=C.data(x),R=this;m={initialize:function(){m.verbose("Initializing checkbox",h),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose("Storing instance of module",m),E=m,C.data(x,m)},destroy:function(){m.verbose("Destroying module"),m.unbind.events(),m.show.input(),C.removeData(x)},fix:{reference:function(){C.is(p.input)&&(m.debug("Behavior called on <input> adjusting invoked element"),C=C.closest(p.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug("Initial value is indeterminate"),m.indeterminate()):m.is.checked()?(m.debug("Initial value is checked"),m.check()):(m.debug("Initial value is unchecked"),m.uncheck()),m.remove.initialLoad()},refresh:function(){k=C.children(p.label),w=C.children(p.input),S=w[0]},hide:{input:function(){m.verbose("Modifying <input> z-index to be unselectable"),w.addClass(g.hidden)}},show:{input:function(){m.verbose("Modifying <input> z-index to be selectable"),w.removeClass(g.hidden)}},observeChanges:function(){"MutationObserver"in t&&(s=new MutationObserver(function(e){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),s.observe(R,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",s))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(m[n])?m[n]:m.toggle,i.length>0?(m.debug("Attaching checkbox events to element",t,n),i.on("click"+y,n)):m.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(p.input)?void m.verbose("Using default check action on initialized checkbox"):n.is(p.link)?void m.debug("Clicking link inside checkbox, skipping toggle"):(m.toggle(),w.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(m.verbose("Escape key pressed blurring field"),w.blur(),A=!0):e.ctrlKey||t!=n.space&&t!=n.enter?A=!1:(m.verbose("Enter/space key pressed, toggling checkbox"),m.toggle(),A=!0)},keyup:function(e){A&&e.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug("Checking checkbox",w),m.set.checked(),m.should.ignoreCallbacks()||(h.onChecked.call(S),h.onChange.call(S)))},uncheck:function(){m.should.allowUncheck()&&(m.debug("Unchecking checkbox"),m.set.unchecked(),m.should.ignoreCallbacks()||(h.onUnchecked.call(S),h.onChange.call(S)))},indeterminate:function(){return m.should.allowIndeterminate()?void m.debug("Checkbox is already indeterminate"):(m.debug("Making checkbox indeterminate"),m.set.indeterminate(),void(m.should.ignoreCallbacks()||(h.onIndeterminate.call(S),h.onChange.call(S))))},determinate:function(){return m.should.allowDeterminate()?void m.debug("Checkbox is already determinate"):(m.debug("Making checkbox determinate"),m.set.determinate(),void(m.should.ignoreCallbacks()||(h.onDeterminate.call(S),h.onChange.call(S))))},enable:function(){return m.is.enabled()?void m.debug("Checkbox is already enabled"):(m.debug("Enabling checkbox"),m.set.enabled(),h.onEnable.call(S),void h.onEnabled.call(S))},disable:function(){return m.is.disabled()?void m.debug("Checkbox is already disabled"):(m.debug("Disabling checkbox"),m.set.disabled(),h.onDisable.call(S),void h.onDisabled.call(S))},get:{radios:function(){var t=m.get.name();return e('input[name="'+t+'"]').closest(p.checkbox)},otherRadios:function(){return m.get.radios().not(C)},name:function(){return w.attr("name")}},is:{initialLoad:function(){return T},radio:function(){return w.hasClass(g.radio)||"radio"==w.attr("type")},indeterminate:function(){return w.prop("indeterminate")!==i&&w.prop("indeterminate")},checked:function(){return w.prop("checked")!==i&&w.prop("checked")},disabled:function(){return w.prop("disabled")!==i&&w.prop("disabled")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug("Should not allow check, checkbox is already checked"),!1):h.beforeChecked.apply(S)!==!1||(m.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug("Should not allow uncheck, checkbox is already unchecked"),!1):h.beforeUnchecked.apply(S)!==!1||(m.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):h.beforeIndeterminate.apply(S)!==!1||(m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug("Should not allow determinate, checkbox is already determinate"),!1):h.beforeDeterminate.apply(S)!==!1||(m.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return m.is.initialLoad()&&h.fireOnInit},ignoreCallbacks:function(){return T&&!h.fireOnInit}},can:{change:function(){return!(C.hasClass(g.disabled)||C.hasClass(g.readOnly)||w.prop("disabled")||w.prop("readonly"))},uncheck:function(){return"boolean"==typeof h.uncheckable?h.uncheckable:!m.is.radio()}},set:{initialLoad:function(){T=!0},checked:function(){return m.verbose("Setting class to checked"),C.removeClass(g.indeterminate).addClass(g.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked()?void m.debug("Input is already checked, skipping input property change"):(m.verbose("Setting state to checked",S),w.prop("indeterminate",!1).prop("checked",!0),void m.trigger.change())},unchecked:function(){return m.verbose("Removing checked class"),C.removeClass(g.indeterminate).removeClass(g.checked),!m.is.indeterminate()&&m.is.unchecked()?void m.debug("Input is already unchecked"):(m.debug("Setting state to unchecked"),w.prop("indeterminate",!1).prop("checked",!1),void m.trigger.change())},indeterminate:function(){return m.verbose("Setting class to indeterminate"),C.addClass(g.indeterminate),m.is.indeterminate()?void m.debug("Input is already indeterminate, skipping input property change"):(m.debug("Setting state to indeterminate"),w.prop("indeterminate",!0),void m.trigger.change())},determinate:function(){
return m.verbose("Removing indeterminate class"),C.removeClass(g.indeterminate),m.is.determinate()?void m.debug("Input is already determinate, skipping input property change"):(m.debug("Setting state to determinate"),void w.prop("indeterminate",!1))},disabled:function(){return m.verbose("Setting class to disabled"),C.addClass(g.disabled),m.is.disabled()?void m.debug("Input is already disabled, skipping input property change"):(m.debug("Setting state to disabled"),w.prop("disabled","disabled"),void m.trigger.change())},enabled:function(){return m.verbose("Removing disabled class"),C.removeClass(g.disabled),m.is.enabled()?void m.debug("Input is already enabled, skipping input property change"):(m.debug("Setting state to enabled"),w.prop("disabled",!1),void m.trigger.change())},tabbable:function(){m.verbose("Adding tabindex to checkbox"),w.attr("tabindex")===i&&w.attr("tabindex",0)}},remove:{initialLoad:function(){T=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=w[0];t&&(m.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){w.prevAll(p.label).length>0?(w.prev(p.label).detach().insertAfter(w),m.debug("Moving existing label",k)):m.has.label()||(k=e("<label>").insertAfter(w),m.debug("Creating label",k))}},has:{label:function(){return k.length>0}},bind:{events:function(){m.verbose("Attaching checkbox events"),C.on("click"+y,m.event.click).on("keydown"+y,p.input,m.event.keydown).on("keyup"+y,p.input,m.event.keyup)}},unbind:{events:function(){m.debug("Removing events"),C.off(y)}},uncheckOthers:function(){var e=m.get.otherRadios();m.debug("Unchecking other radios",e),e.removeClass(g.checked)},toggle:function(){return m.can.change()?void(m.is.indeterminate()||m.is.unchecked()?(m.debug("Currently unchecked"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug("Currently checked"),m.uncheck())):void(m.is.radio()||m.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],n):h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,h.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),m.verbose.apply(console,arguments)))},error:function(){h.silent||(m.error=Function.prototype.bind.call(console.error,console,h.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=h.name+":",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var s,a,l,c=E;return n=n||f,o=R||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==i)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==i?(a=c[o],!1):(m.error(b.method,t),!1);c=c[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},d?(E===i&&m.initialize(),m.invoke(u)):(E!==i&&E.invoke("destroy"),m.initialize())}),r!==i?r:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",silent:!1,debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(o){var r,s=e(this),a=e(n),l=s.selector||"",c="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],m="string"==typeof f,h=[].slice.call(arguments,1);return s.each(function(g){var v,p,b,y,x,C,k,w,S=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),T=S.className,A=S.message,E=S.fields,R=S.keys,D=S.metadata,F=S.namespace,O=S.regExp,I=S.selector,L=S.error,q=S.templates,P="."+F,z="module-"+F,M=e(this),j=e(S.context),V=M.find(I.text),N=M.find(I.search),U=M.find(I.sizer),H=M.find(I.input),B=M.find(I.icon),K=M.prev().find(I.text).length>0?M.prev().find(I.text):M.prev(),W=M.children(I.menu),$=W.find(I.item),Q=!1,X=!1,Y=!1,_=this,G=M.data(z);w={initialize:function(){w.debug("Initializing dropdown",S),w.is.alreadySetup()?w.setup.reference():(w.setup.layout(),w.refreshData(),w.save.defaults(),w.restore.selected(),w.create.id(),w.bind.events(),w.observeChanges(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of dropdown",w),G=w,M.data(z,w)},destroy:function(){w.verbose("Destroying previous dropdown",M),w.remove.tabbable(),M.off(P).removeData(z),W.off(P),a.off(y),w.disconnect.menuObserver(),w.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(C=new MutationObserver(w.event.select.mutation),k=new MutationObserver(w.event.menu.mutation),w.debug("Setting up mutation observer",C,k),w.observe.select(),w.observe.menu())},disconnect:{menuObserver:function(){k&&k.disconnect()},selectObserver:function(){k&&k.disconnect()}},observe:{select:function(){w.has.input()&&C.observe(H[0],{childList:!0,subtree:!0})},menu:function(){w.has.menu()&&k.observe(W[0],{childList:!0,subtree:!0})}},create:{id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),y="."+x,w.verbose("Creating unique id for element",x)},userChoice:function(t){var n,o,r;return!!(t=t||w.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,s){w.get.item(s)===!1&&(r=S.templates.addition(w.add.variables(A.addResult,s)),o=e("<div />").html(r).attr("data-"+D.value,s).attr("data-"+D.text,s).addClass(T.addition).addClass(T.item),S.hideAdditions&&o.addClass(T.hidden),n=n===i?o:n.add(o),w.verbose("Creating user choices for value",s,o))}),n)},userLabels:function(t){var n=w.get.userValues();n&&(w.debug("Adding user labels",n),e.each(n,function(e,t){w.verbose("Adding custom user value"),w.add.label(t,t)}))},menu:function(){W=e("<div />").addClass(T.menu).appendTo(M)},sizer:function(){U=e("<span />").addClass(T.sizer).insertAfter(N)}},search:function(e){e=e!==i?e:w.get.query(),w.verbose("Searching for query",e),w.has.minCharacters(e)?w.filter(e):w.hide()},select:{firstUnfiltered:function(){w.verbose("Selecting first non-filtered element"),w.remove.selectedItem(),$.not(I.unselectable).not(I.addition+I.hidden).eq(0).addClass(T.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(I.item).not(I.unselectable).eq(0),n=e.prevAll(I.item).not(I.unselectable).eq(0),i=t.length>0;i?(w.verbose("Moving selection to",t),t.addClass(T.selected)):(w.verbose("Moving selection to",n),n.addClass(T.selected))}},setup:{api:function(){var e={debug:S.debug,urlData:{value:w.get.value(),query:w.get.query()},on:!1};w.verbose("First request, initializing API"),M.api(e)},layout:function(){M.is("select")&&(w.setup.select(),w.setup.returnedObject()),w.has.menu()||w.create.menu(),w.is.search()&&!w.has.search()&&(w.verbose("Adding search input"),N=e("<input />").addClass(T.search).prop("autocomplete","off").insertBefore(V)),w.is.multiple()&&w.is.searchSelection()&&!w.has.sizer()&&w.create.sizer(),S.allowTab&&w.set.tabbable()},select:function(){var t=w.get.selectValues();w.debug("Dropdown initialized on a select",t),M.is("select")&&(H=M),H.parent(I.dropdown).length>0?(w.debug("UI dropdown already exists. Creating dropdown menu only"),M=H.closest(I.dropdown),w.has.menu()||w.create.menu(),W=M.children(I.menu),w.setup.menu(t)):(w.debug("Creating entire dropdown from select"),M=e("<div />").attr("class",H.attr("class")).addClass(T.selection).addClass(T.dropdown).html(q.dropdown(t)).insertBefore(H),H.hasClass(T.multiple)&&H.prop("multiple")===!1&&(w.error(L.missingMultiple),H.prop("multiple",!0)),H.is("[multiple]")&&w.set.multiple(),H.prop("disabled")&&(w.debug("Disabling dropdown"),M.addClass(T.disabled)),H.removeAttr("class").detach().prependTo(M)),w.refresh()},menu:function(e){W.html(q.menu(e,E)),$=W.find(I.item)},reference:function(){w.debug("Dropdown behavior was called on select, replacing with closest dropdown"),M=M.parent(I.dropdown),w.refresh(),w.setup.returnedObject(),m&&(G=w,w.invoke(f))},returnedObject:function(){var e=s.slice(0,g),t=s.slice(g+1);s=e.add(M).add(t)}},refresh:function(){w.refreshSelectors(),w.refreshData()},refreshItems:function(){$=W.find(I.item)},refreshSelectors:function(){w.verbose("Refreshing selector cache"),V=M.find(I.text),N=M.find(I.search),H=M.find(I.input),B=M.find(I.icon),K=M.prev().find(I.text).length>0?M.prev().find(I.text):M.prev(),W=M.children(I.menu),$=W.find(I.item)},refreshData:function(){w.verbose("Refreshing cached metadata"),$.removeData(D.text).removeData(D.value)},clearData:function(){w.verbose("Clearing metadata"),$.removeData(D.text).removeData(D.value),M.removeData(D.defaultText).removeData(D.defaultValue).removeData(D.placeholderText)},toggle:function(){w.verbose("Toggling menu visibility"),w.is.active()?w.hide():w.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},w.can.show()&&!w.is.active()){if(w.debug("Showing dropdown"),!w.has.message()||w.has.maxSelections()||w.has.allResultsFiltered()||w.remove.message(),w.is.allFiltered())return!0;S.onShow.call(_)!==!1&&w.animate.show(function(){w.can.click()&&w.bind.intent(),w.has.menuSearch()&&w.focusSearch(),w.set.visible(),t.call(_)})}},hide:function(t){t=e.isFunction(t)?t:function(){},w.is.active()&&(w.debug("Hiding dropdown"),S.onHide.call(_)!==!1&&w.animate.hide(function(){w.remove.visible(),t.call(_)}))},hideOthers:function(){w.verbose("Finding other dropdowns to hide"),s.not(M).has(I.menu+"."+T.visible).dropdown("hide")},hideMenu:function(){w.verbose("Hiding menu  instantaneously"),w.remove.active(),w.remove.visible(),W.transition("hide")},hideSubMenus:function(){var e=W.children(I.item).find(I.menu);w.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){c&&w.bind.touchEvents(),w.bind.keyboardEvents(),w.bind.inputEvents(),w.bind.mouseEvents()},touchEvents:function(){w.debug("Touch device detected binding additional touch events"),w.is.searchSelection()||w.is.single()&&M.on("touchstart"+P,w.event.test.toggle),W.on("touchstart"+P,I.item,w.event.item.mouseenter)},keyboardEvents:function(){w.verbose("Binding keyboard events"),M.on("keydown"+P,w.event.keydown),w.has.search()&&M.on(w.get.inputEvent()+P,I.search,w.event.input),w.is.multiple()&&a.on("keydown"+y,w.event.document.keydown)},inputEvents:function(){w.verbose("Binding input change events"),M.on("change"+P,I.input,w.event.change)},mouseEvents:function(){w.verbose("Binding mouse events"),w.is.multiple()&&M.on("click"+P,I.label,w.event.label.click).on("click"+P,I.remove,w.event.remove.click),w.is.searchSelection()?(M.on("mousedown"+P,w.event.mousedown).on("mouseup"+P,w.event.mouseup).on("mousedown"+P,I.menu,w.event.menu.mousedown).on("mouseup"+P,I.menu,w.event.menu.mouseup).on("click"+P,I.icon,w.event.icon.click).on("focus"+P,I.search,w.event.search.focus).on("click"+P,I.search,w.event.search.focus).on("blur"+P,I.search,w.event.search.blur).on("click"+P,I.text,w.event.text.focus),w.is.multiple()&&M.on("click"+P,w.event.click)):("click"==S.on?M.on("click"+P,I.icon,w.event.icon.click).on("click"+P,w.event.test.toggle):"hover"==S.on?M.on("mouseenter"+P,w.delay.show).on("mouseleave"+P,w.delay.hide):M.on(S.on+P,w.toggle),M.on("mousedown"+P,w.event.mousedown).on("mouseup"+P,w.event.mouseup).on("focus"+P,w.event.focus).on("blur"+P,w.event.blur)),W.on("mouseenter"+P,I.item,w.event.item.mouseenter).on("mouseleave"+P,I.item,w.event.item.mouseleave).on("click"+P,I.item,w.event.item.click)},intent:function(){w.verbose("Binding hide intent event to document"),c&&a.on("touchstart"+y,w.event.test.touch).on("touchmove"+y,w.event.test.touch),a.on("click"+y,w.event.test.hide)}},unbind:{intent:function(){w.verbose("Removing hide intent event from document"),c&&a.off("touchstart"+y).off("touchmove"+y),a.off("click"+y)}},filter:function(e){var t=e!==i?e:w.get.query(),n=function(){w.is.multiple()&&w.filterActive(),w.select.firstUnfiltered(),w.has.allResultsFiltered()?S.onNoResults.call(_,t)?S.allowAdditions?S.hideAdditions&&(w.verbose("User addition with no menu, setting empty style"),w.set.empty(),w.hideMenu()):(w.verbose("All items filtered, showing message",t),w.add.message(A.noResults)):(w.verbose("All items filtered, hiding dropdown",t),w.hideMenu()):(w.remove.empty(),w.remove.message()),S.allowAdditions&&w.add.userSuggestion(e),w.is.searchSelection()&&w.can.show()&&w.is.focusedOnSearch()&&w.show()};S.useLabels&&w.has.maxSelections()||(S.apiSettings?w.can.useAPI()?w.queryRemote(t,function(){n()}):w.error(L.noAPI):(w.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:S.throttle,urlData:{query:t},onError:function(){w.add.message(A.serverError),n()},onFailure:function(){w.add.message(A.serverError),n()},onSuccess:function(e){w.remove.message(),w.setup.menu({values:e[E.remoteValues]}),n()}};M.api("get request")||w.setup.api(),i=e.extend(!0,{},i,S.apiSettings),M.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:w.get.query(),o=null,r=w.escape.regExp(n),s=new RegExp("^"+r,"igm");w.has.query()&&(o=[],w.verbose("Searching for matching values",n),$.each(function(){var t,i,r=e(this);if("both"==S.match||"text"==S.match){if(t=String(w.get.choiceText(r,!1)),t.search(s)!==-1)return o.push(this),!0;if("exact"===S.fullTextSearch&&w.exactSearch(n,t))return o.push(this),!0;if(S.fullTextSearch===!0&&w.fuzzySearch(n,t))return o.push(this),!0}if("both"==S.match||"value"==S.match){if(i=String(w.get.choiceValue(r,t)),i.search(s)!==-1)return o.push(this),!0;if(S.fullTextSearch&&w.fuzzySearch(n,i))return o.push(this),!0}})),w.debug("Showing only matched items",n),w.remove.filteredItem(),o&&$.not(o).addClass(T.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var s=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===s)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t.indexOf(e)>-1},filterActive:function(){S.useLabels&&$.filter("."+T.active).addClass(T.filtered)},focusSearch:function(e){w.has.search()&&!w.is.focusedOnSearch()&&(e?(M.off("focus"+P,I.search),N.focus(),M.on("focus"+P,I.search,w.event.search.focus)):N.focus())},forceSelection:function(){var e=$.not(T.filtered).filter("."+T.selected).eq(0),t=$.not(T.filtered).filter("."+T.active).eq(0),n=e.length>0?e:t,i=n.length>0;return i?(w.debug("Forcing partial selection to selected item",n),void w.event.item.click.call(n,{},!0)):void(S.allowAdditions?(w.set.selected(w.get.query()),w.remove.searchTerm()):w.remove.searchTerm())},event:{change:function(){Y||(w.debug("Input changed, updating selection"),w.set.selected())},focus:function(){S.showOnFocus&&!Q&&w.is.hidden()&&!p&&w.show()},blur:function(e){p=n.activeElement===this,Q||p||(w.remove.activeLabel(),w.hide())},mousedown:function(){w.is.searchSelection()?b=!0:Q=!0},mouseup:function(){w.is.searchSelection()?b=!1:Q=!1},click:function(t){var n=e(t.target);n.is(M)&&(w.is.focusedOnSearch()?w.show():w.focusSearch())},search:{focus:function(){Q=!0,w.is.multiple()&&w.remove.activeLabel(),S.showOnFocus&&w.search()},blur:function(e){p=n.activeElement===this,b||X||p||(S.forceSelection&&w.has.query()&&w.forceSelection(),w.hide()),b=!1}},icon:{click:function(e){w.toggle(),e.stopPropagation()}},text:{focus:function(e){Q=!0,w.focusSearch()}},input:function(e){(w.is.multiple()||w.is.searchSelection())&&w.set.filtered(),clearTimeout(w.timer),w.timer=setTimeout(w.search,S.delay.search)},label:{click:function(t){var n=e(this),i=M.find(I.label),o=i.filter("."+T.active),r=n.nextAll("."+T.active),s=n.prevAll("."+T.active),a=r.length>0?n.nextUntil(r).add(o).add(n):n.prevUntil(s).add(o).add(n);t.shiftKey?(o.removeClass(T.active),a.addClass(T.active)):t.ctrlKey?n.toggleClass(T.active):(o.removeClass(T.active),n.addClass(T.active)),S.onLabelSelect.apply(this,i.filter("."+T.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(T.active)?w.remove.activeLabels():w.remove.activeLabels(t)}},test:{toggle:function(e){var t=w.is.multiple()?w.show:w.toggle;w.is.bubbledLabelClick(e)||w.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){w.determine.eventOnElement(e,function(){"touchstart"==e.type?w.timer=setTimeout(function(){w.hide()},S.delay.touch):"touchmove"==e.type&&clearTimeout(w.timer)}),e.stopPropagation()},hide:function(e){w.determine.eventInModule(e,w.hide)}},select:{mutation:function(e){w.debug("<select> modified, recreating menu"),w.setup.select()}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),o=e(n.removedNodes?n.removedNodes[0]:!1),r=i.add(o),s=r.is(I.addition)||r.closest(I.addition).length>0,a=r.is(I.message)||r.closest(I.message).length>0;s||a?(w.debug("Updating item selector cache"),w.refreshItems()):(w.debug("Menu modified, updating selector cache"),w.refresh())},mousedown:function(){X=!0},mouseup:function(){X=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),o=i.children(I.menu),r=i.siblings(I.item).children(I.menu),s=o.length>0,a=o.find(n).length>0;!a&&s&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Showing sub-menu",o),e.each(r,function(){w.animate.hide(!1,e(this))}),w.animate.show(!1,o)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(I.menu);n.length>0&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Hiding sub-menu",n),w.animate.hide(!1,n)},S.delay.hide))},click:function(t,n){var i=e(this),o=e(t?t.target:""),r=i.find(I.menu),s=w.get.choiceText(i),a=w.get.choiceValue(i,s),l=r.length>0,c=r.find(o).length>0;c||l&&!S.allowCategorySelection||(w.is.searchSelection()&&(S.allowAdditions&&w.remove.userAddition(),w.remove.searchTerm(),w.is.focusedOnSearch()||1==n||w.focusSearch(!0)),S.useLabels||(w.remove.filteredItem(),w.set.scrollPosition(i)),w.determine.selectAction.call(this,s,a))}},document:{keydown:function(e){var t=e.which,n=w.is.inObject(t,R);if(n){var i=M.find(I.label),o=i.filter("."+T.active),r=(o.data(D.value),i.index(o)),s=i.length,a=o.length>0,l=o.length>1,c=0===r,u=r+1==s,d=w.is.searchSelection(),f=w.is.focusedOnSearch(),m=w.is.focused(),h=f&&0===w.get.caretPosition();if(d&&!a&&!f)return;t==R.leftArrow?!m&&!h||a?a&&(e.shiftKey?w.verbose("Adding previous label to selection"):(w.verbose("Selecting previous label"),i.removeClass(T.active)),c&&!l?o.addClass(T.active):o.prev(I.siblingLabel).addClass(T.active).end(),e.preventDefault()):(w.verbose("Selecting previous label"),i.last().addClass(T.active)):t==R.rightArrow?(m&&!a&&i.first().addClass(T.active),a&&(e.shiftKey?w.verbose("Adding next label to selection"):(w.verbose("Selecting next label"),i.removeClass(T.active)),u?d?f?i.removeClass(T.active):w.focusSearch():l?o.next(I.siblingLabel).addClass(T.active):o.addClass(T.active):o.next(I.siblingLabel).addClass(T.active),e.preventDefault())):t==R.deleteKey||t==R.backspace?a?(w.verbose("Removing active labels"),u&&d&&!f&&w.focusSearch(),o.last().next(I.siblingLabel).addClass(T.active),w.remove.activeLabels(o),e.preventDefault()):h&&!a&&t==R.backspace&&(w.verbose("Removing last label on input backspace"),o=i.last().addClass(T.active),w.remove.activeLabels(o)):o.removeClass(T.active)}}},keydown:function(e){var t=e.which,n=w.is.inObject(t,R);if(n){var i,o,r=$.not(I.unselectable).filter("."+T.selected).eq(0),s=W.children("."+T.active).eq(0),a=r.length>0?r:s,l=a.length>0?a.siblings(":not(."+T.filtered+")").addBack():W.children(":not(."+T.filtered+")"),c=a.children(I.menu),u=a.closest(I.menu),d=u.hasClass(T.visible)||u.hasClass(T.animating)||u.parent(I.menu).length>0,f=c.length>0,m=a.length>0,h=a.not(I.unselectable).length>0,g=t==R.delimiter&&S.allowAdditions&&w.is.multiple(),v=S.allowAdditions&&S.hideAdditions&&(t==R.enter||g)&&h;if(v&&(w.verbose("Selecting item from keyboard shortcut",a),w.event.item.click.call(a,e),w.is.searchSelection()&&w.remove.searchTerm()),w.is.visible()){if((t==R.enter||g)&&(t==R.enter&&m&&f&&!S.allowCategorySelection?(w.verbose("Pressed enter on unselectable category, opening sub menu"),t=R.rightArrow):h&&(w.verbose("Selecting item from keyboard shortcut",a),w.event.item.click.call(a,e),w.is.searchSelection()&&w.remove.searchTerm()),e.preventDefault()),m&&(t==R.leftArrow&&(o=u[0]!==W[0],o&&(w.verbose("Left key pressed, closing sub-menu"),w.animate.hide(!1,u),a.removeClass(T.selected),u.closest(I.item).addClass(T.selected),e.preventDefault())),t==R.rightArrow&&f&&(w.verbose("Right key pressed, opening sub-menu"),w.animate.show(!1,c),a.removeClass(T.selected),c.find(I.item).eq(0).addClass(T.selected),e.preventDefault())),t==R.upArrow){if(i=m&&d?a.prevAll(I.item+":not("+I.unselectable+")").eq(0):$.eq(0),l.index(i)<0)return w.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();w.verbose("Up key pressed, changing active item"),a.removeClass(T.selected),i.addClass(T.selected),w.set.scrollPosition(i),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(i),e.preventDefault()}if(t==R.downArrow){if(i=m&&d?i=a.nextAll(I.item+":not("+I.unselectable+")").eq(0):$.eq(0),0===i.length)return w.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();w.verbose("Down key pressed, changing active item"),$.removeClass(T.selected),i.addClass(T.selected),w.set.scrollPosition(i),S.selectOnKeydown&&w.is.single()&&(w.set.activeItem(i),w.set.selected(w.get.choiceValue(i),i)),e.preventDefault()}t==R.pageUp&&(w.scrollPage("up"),e.preventDefault()),t==R.pageDown&&(w.scrollPage("down"),e.preventDefault()),t==R.escape&&(w.verbose("Escape key pressed, closing dropdown"),w.hide())}else g&&e.preventDefault(),t!=R.downArrow||w.is.visible()||(w.verbose("Down key pressed, showing dropdown"),w.select.firstUnfiltered(),w.show(),e.preventDefault())}else w.has.search()||w.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=H[0];t&&(w.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){w.verbose("Determining action",S.action),e.isFunction(w.action[S.action])?(w.verbose("Triggering preset action",S.action,t,n),w.action[S.action].call(_,t,n,this)):e.isFunction(S.action)?(w.verbose("Triggering user action",S.action,t,n),S.action.call(_,t,n,this)):w.error(L.action,S.action)},eventInModule:function(t,i){var o=e(t.target),r=o.closest(n.documentElement).length>0,s=o.closest(M).length>0;return i=e.isFunction(i)?i:function(){},r&&!s?(w.verbose("Triggering event",i),i(),!0):(w.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var o=e(t.target),r=o.closest(I.siblingLabel),s=n.body.contains(t.target),a=0===M.find(r).length,l=0===o.closest(W).length;return i=e.isFunction(i)?i:function(){},s&&a&&l?(w.verbose("Triggering event",i),i(),!0):(w.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,o){if(n=n!==i?n:t,w.can.activate(e(o))){if(w.set.selected(n,e(o)),w.is.multiple()&&!w.is.allFiltered())return;w.hideAndClear()}},select:function(e,t,n){w.action.activate.call(n)},combo:function(t,n,o){n=n!==i?n:t,w.set.selected(n,e(o)),w.hideAndClear()},hide:function(e,t,n){w.set.value(t,e),w.hideAndClear()}},get:{id:function(){return x},defaultText:function(){return M.data(D.defaultText)},defaultValue:function(){return M.data(D.defaultValue)},placeholderText:function(){return M.data(D.placeholderText)||""},text:function(){return V.text()},query:function(){return e.trim(N.val())},searchWidth:function(e){return e=e!==i?e:N.val(),U.text(e),Math.ceil(U.width()+1)},selectionCount:function(){var t,n=w.get.values();return t=w.is.multiple()?e.isArray(n)?n.length:0:""!==w.get.value()?1:0},transition:function(e){return"auto"==S.transition?w.is.upward(e)?"slide up":"slide down":S.transition},userValues:function(){var t=w.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return w.get.item(e)===!1}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=N.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=H.length>0?H.val():M.data(D.value),n=e.isArray(t)&&1===t.length&&""===t[0];return t===i||n?"":t},values:function(){var e=w.get.value();return""===e?"":!w.has.selectInput()&&w.is.multiple()?"string"==typeof e?e.split(S.delimiter):"":e},remoteValues:function(){var t=w.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=w.read.remoteData(t);w.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=n!==i?n:S.preserveHTML,t)return t.find(I.menu).length>0&&(w.verbose("Retrieving text of element with sub-menu"),t=t.clone(),t.find(I.menu).remove(),t.find(I.menuIcon).remove()),t.data(D.text)!==i?t.data(D.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||w.get.choiceText(t),!!t&&(t.data(D.value)!==i?String(t.data(D.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=N[0];return!!e&&(e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],M.find("option").each(function(){var n=e(this),o=n.html(),r=n.attr("disabled"),s=n.attr("value")!==i?n.attr("value"):o;"auto"===S.placeholder&&""===s?t.placeholder=o:t.values.push({name:o,value:s,disabled:r})}),S.placeholder&&"auto"!==S.placeholder&&(w.debug("Setting placeholder value to",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),w.debug("Retrieved and sorted values from select",t)):w.debug("Retrieved values from select",t),t},activeItem:function(){return $.filter("."+T.active)},selectedItem:function(){var e=$.not(I.unselectable).filter("."+T.selected);return e.length>0?e:$.eq(0)},itemWithAdditions:function(e){var t=w.get.item(e),n=w.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var o,r,s=!1;return t=t!==i?t:w.get.values()!==i?w.get.values():w.get.text(),o=r?t.length>0:t!==i&&null!==t,r=w.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),o&&$.each(function(){var o=e(this),a=w.get.choiceText(o),l=w.get.choiceValue(o,a);if(null!==l&&l!==i)if(r)e.inArray(String(l),t)===-1&&e.inArray(a,t)===-1||(s=s?s.add(o):o);else if(n){if(w.verbose("Ambiguous dropdown value using strict type check",o,t),l===t||a===t)return s=o,!0}else if(String(l)==String(t)||a==t)return w.verbose("Found select item by value",l,t),s=o,!0}),s}},check:{maxSelections:function(e){return!S.maxSelections||(e=e!==i?e:w.get.selectionCount(),e>=S.maxSelections?(w.debug("Maximum selection count reached"),S.useLabels&&($.addClass(T.filtered),w.add.message(A.maxSelections)),!0):(w.verbose("No longer at maximum selection count"),w.remove.message(),w.remove.filteredItem(),w.is.searchSelection()&&w.filterItems(),!1))}},restore:{defaults:function(){w.clear(),w.restore.defaultText(),w.restore.defaultValue()},defaultText:function(){var e=w.get.defaultText(),t=w.get.placeholderText;e===t?(w.debug("Restoring default placeholder text",e),w.set.placeholderText(e)):(w.debug("Restoring default text",e),w.set.text(e))},placeholderText:function(){w.set.placeholderText()},defaultValue:function(){var e=w.get.defaultValue();e!==i&&(w.debug("Restoring default value",e),""!==e?(w.set.value(e),w.set.selected()):(w.remove.activeItem(),w.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(w.error(L.labels),S.useLabels=!0),w.debug("Restoring selected values"),w.create.userLabels()),w.check.maxSelections()},selected:function(){w.restore.values(),w.is.multiple()?(w.debug("Restoring previously selected values and labels"),w.restore.labels()):w.debug("Restoring previously selected values")},values:function(){w.set.initialLoad(),S.apiSettings&&S.saveRemoteData&&w.get.remoteValues()?w.restore.remoteValues():w.set.selected(),w.remove.initialLoad()},remoteValues:function(){var t=w.get.remoteValues();w.debug("Recreating selected from session data",t),t&&(w.is.single()?e.each(t,function(e,t){w.set.text(t)}):e.each(t,function(e,t){w.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void w.error(L.noStorage):(n=sessionStorage.getItem(e),n!==i&&n)}},save:{defaults:function(){w.save.defaultText(),w.save.placeholderText(),w.save.defaultValue()},defaultValue:function(){var e=w.get.value();w.verbose("Saving default value as",e),M.data(D.defaultValue,e)},defaultText:function(){var e=w.get.text();w.verbose("Saving default text as",e),M.data(D.defaultText,e)},placeholderText:function(){var e;S.placeholder!==!1&&V.hasClass(T.placeholder)&&(e=w.get.text(),w.verbose("Saving placeholder text as",e),M.data(D.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void w.error(L.noStorage):(w.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){w.is.multiple()?w.remove.labels():(w.remove.activeItem(),w.remove.selectedItem()),w.set.placeholderText(),w.clearValue()},clearValue:function(){w.set.value("")},scrollPage:function(e,t){var n,i,o,r=t||w.get.selectedItem(),s=r.closest(I.menu),a=s.outerHeight(),l=s.scrollTop(),c=$.eq(0).outerHeight(),u=Math.floor(a/c),d=(s.prop("scrollHeight"),"up"==e?l-c*u:l+c*u),f=$.not(I.unselectable);o="up"==e?f.index(r)-u:f.index(r)+u,n="up"==e?o>=0:o<f.length,i=n?f.eq(o):"up"==e?f.first():f.last(),i.length>0&&(w.debug("Scrolling page",e,i),r.removeClass(T.selected),i.addClass(T.selected),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(i),s.scrollTop(d))},set:{filtered:function(){var e=w.is.multiple(),t=w.is.searchSelection(),n=e&&t,i=t?w.get.query():"",o="string"==typeof i&&i.length>0,r=w.get.searchWidth(),s=""!==i;e&&o&&(w.verbose("Adjusting input width",r,S.glyphWidth),N.css("width",r)),o||n&&s?(w.verbose("Hiding placeholder text"),V.addClass(T.filtered)):(!e||n&&!s)&&(w.verbose("Showing placeholder text"),V.removeClass(T.filtered))},empty:function(){M.addClass(T.empty)},loading:function(){M.addClass(T.loading)},placeholderText:function(e){e=e||w.get.placeholderText(),w.debug("Setting placeholder text",e),w.set.text(e),V.addClass(T.placeholder)},tabbable:function(){w.has.search()?(w.debug("Added tabindex to searchable dropdown"),
N.val("").attr("tabindex",0),W.attr("tabindex",-1)):(w.debug("Added tabindex to dropdown"),M.attr("tabindex")===i&&(M.attr("tabindex",0),W.attr("tabindex",-1)))},initialLoad:function(){w.verbose("Setting initial load"),v=!0},activeItem:function(e){S.allowAdditions&&e.filter(I.addition).length>0?e.addClass(T.filtered):e.addClass(T.active)},scrollPosition:function(e,t){var n,o,r,s,a,l,c,u,d,f=5;e=e||w.get.selectedItem(),n=e.closest(I.menu),o=e&&e.length>0,t=t!==i&&t,e&&n.length>0&&o&&(s=e.position().top,n.addClass(T.loading),l=n.scrollTop(),a=n.offset().top,s=e.offset().top,r=l-a+s,t||(c=n.height(),d=l+c<r+f,u=r-f<l),w.debug("Scrolling to active item",r),(t||u||d)&&n.scrollTop(r),n.removeClass(T.loading))},text:function(e){"select"!==S.action&&("combo"==S.action?(w.debug("Changing combo button text",e,K),S.preserveHTML?K.html(e):K.text(e)):(e!==w.get.placeholderText()&&V.removeClass(T.placeholder),w.debug("Changing text",e,V),V.removeClass(T.filtered),S.preserveHTML?V.html(e):V.text(e)))},selectedItem:function(e){w.debug("Setting user selection to item",e),w.remove.activeItem(),w.set.activeItem(e),w.set.selected(w.get.choiceValue(e),e)},selectedLetter:function(t){var n,i=$.filter("."+T.selected),o=i.length>0&&w.has.firstLetter(i,t),r=!1;o&&(n=i.nextAll($).eq(0),w.has.firstLetter(n,t)&&(r=n)),r||$.each(function(){if(w.has.firstLetter(e(this),t))return r=e(this),!1}),r&&(w.verbose("Scrolling to next value with letter",t),w.set.scrollPosition(r),i.removeClass(T.selected),r.addClass(T.selected),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(r))},direction:function(e){"auto"==S.direction?w.is.onScreen(e)?w.remove.upward(e):w.set.upward(e):"upward"==S.direction&&w.set.upward(e)},upward:function(e){var t=e||M;t.addClass(T.upward)},value:function(e,t,n){var o=w.escape.value(e),r=H.length>0,s=(!w.has.value(e),w.get.values()),a=e!==i?String(e):e;if(r){if(!S.allowReselection&&a==s&&(w.verbose("Skipping value update already same value",e,s),!w.is.initialLoad()))return;w.is.single()&&w.has.selectInput()&&w.can.extendSelect()&&(w.debug("Adding user option",e),w.add.optionValue(e)),w.debug("Updating input value",o,s),Y=!0,H.val(o),S.fireOnInit===!1&&w.is.initialLoad()?w.debug("Input native change event ignored on initial load"):w.trigger.change(),Y=!1}else w.verbose("Storing value in metadata",o,H),o!==s&&M.data(D.value,a);S.fireOnInit===!1&&w.is.initialLoad()?w.verbose("No callback on initial load",S.onChange):S.onChange.call(_,e,t,n)},active:function(){M.addClass(T.active)},multiple:function(){M.addClass(T.multiple)},visible:function(){M.addClass(T.visible)},exactly:function(e,t){w.debug("Setting selected to exact values"),w.clear(),w.set.selected(e,t)},selected:function(t,n){var i=w.is.multiple();n=S.allowAdditions?n||w.get.itemWithAdditions(t):n||w.get.item(t),n&&(w.debug("Setting selected menu item to",n),w.is.multiple()&&w.remove.searchWidth(),w.is.single()?(w.remove.activeItem(),w.remove.selectedItem()):S.useLabels&&w.remove.selectedItem(),n.each(function(){var t=e(this),o=w.get.choiceText(t),r=w.get.choiceValue(t,o),s=t.hasClass(T.filtered),a=t.hasClass(T.active),l=t.hasClass(T.addition),c=i&&1==n.length;i?!a||l?(S.apiSettings&&S.saveRemoteData&&w.save.remoteData(o,r),S.useLabels?(w.add.value(r,o,t),w.add.label(r,o,c),w.set.activeItem(t),w.filterActive(),w.select.nextAvailable(n)):(w.add.value(r,o,t),w.set.text(w.add.variables(A.count)),w.set.activeItem(t))):s||(w.debug("Selected active value, removing label"),w.remove.selected(r)):(S.apiSettings&&S.saveRemoteData&&w.save.remoteData(o,r),w.set.text(o),w.set.value(r,o,t),t.addClass(T.active).addClass(T.selected))}))}},add:{label:function(t,n,i){var o,r=w.is.searchSelection()?N:V,s=w.escape.value(t);return o=e("<a />").addClass(T.label).attr("data-value",s).html(q.label(s,n)),o=S.onLabelCreate.call(o,s,n),w.has.label(t)?void w.debug("Label already exists, skipping",s):(S.label.variation&&o.addClass(S.label.variation),void(i===!0?(w.debug("Animating in label",o),o.addClass(T.hidden).insertBefore(r).transition(S.label.transition,S.label.duration)):(w.debug("Adding selection label",o),o.insertBefore(r))))},message:function(t){var n=W.children(I.message),i=S.templates.message(w.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(T.message).appendTo(W)},optionValue:function(t){var n=w.escape.value(t),i=H.find('option[value="'+n+'"]'),o=i.length>0;o||(w.disconnect.selectObserver(),w.is.single()&&(w.verbose("Removing previous user addition"),H.find("option."+T.addition).remove()),e("<option/>").prop("value",n).addClass(T.addition).html(t).appendTo(H),w.verbose("Adding user addition as an <option>",t),w.observe.select())},userSuggestion:function(e){var t,n=W.children(I.addition),i=w.get.item(e),o=i&&i.not(I.addition).length,r=n.length>0;if(!S.useLabels||!w.has.maxSelections()){if(""===e||o)return void n.remove();r?(n.data(D.value,e).data(D.text,e).attr("data-"+D.value,e).attr("data-"+D.text,e).removeClass(T.filtered),S.hideAdditions||(t=S.templates.addition(w.add.variables(A.addResult,e)),n.html(t)),w.verbose("Replacing user suggestion with new value",n)):(n=w.create.userChoice(e),n.prependTo(W),w.verbose("Adding item choice to menu corresponding with user choice addition",n)),S.hideAdditions&&!w.is.allFiltered()||n.addClass(T.selected).siblings().removeClass(T.selected),w.refreshItems()}},variables:function(e,t){var n,i,o=e.search("{count}")!==-1,r=e.search("{maxCount}")!==-1,s=e.search("{term}")!==-1;return w.verbose("Adding templated variables to message",e),o&&(n=w.get.selectionCount(),e=e.replace("{count}",n)),r&&(n=w.get.selectionCount(),e=e.replace("{maxCount}",S.maxSelections)),s&&(i=t||w.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var o,r=w.get.values();return""===t?void w.debug("Cannot select blank values from multiselect"):(e.isArray(r)?(o=r.concat([t]),o=w.get.uniqueArray(o)):o=[t],w.has.selectInput()?w.can.extendSelect()&&(w.debug("Adding value to select",t,o,H),w.add.optionValue(t)):(o=o.join(S.delimiter),w.debug("Setting hidden input to delimited value",o,H)),S.fireOnInit===!1&&w.is.initialLoad()?w.verbose("Skipping onadd callback on initial load",S.onAdd):S.onAdd.call(_,t,n,i),w.set.value(o,t,n,i),void w.check.maxSelections())}},remove:{active:function(){M.removeClass(T.active)},activeLabel:function(){M.find(I.label).removeClass(T.active)},empty:function(){M.removeClass(T.empty)},loading:function(){M.removeClass(T.loading)},initialLoad:function(){v=!1},upward:function(e){var t=e||M;t.removeClass(T.upward)},visible:function(){M.removeClass(T.visible)},activeItem:function(){$.removeClass(T.active)},filteredItem:function(){S.useLabels&&w.has.maxSelections()||(S.useLabels&&w.is.multiple()?$.not("."+T.active).removeClass(T.filtered):$.removeClass(T.filtered),w.remove.empty())},optionValue:function(e){var t=w.escape.value(e),n=H.find('option[value="'+t+'"]'),i=n.length>0;i&&n.hasClass(T.addition)&&(C&&(C.disconnect(),w.verbose("Temporarily disconnecting mutation observer")),n.remove(),w.verbose("Removing user addition as an <option>",t),C&&C.observe(H[0],{childList:!0,subtree:!0}))},message:function(){W.children(I.message).remove()},searchWidth:function(){N.css("width","")},searchTerm:function(){w.verbose("Cleared search term"),N.val(""),w.set.filtered()},userAddition:function(){$.filter(I.addition).remove()},selected:function(t,n){return!!(n=S.allowAdditions?n||w.get.itemWithAdditions(t):n||w.get.item(t))&&void n.each(function(){var t=e(this),n=w.get.choiceText(t),i=w.get.choiceValue(t,n);w.is.multiple()?S.useLabels?(w.remove.value(i,n,t),w.remove.label(i)):(w.remove.value(i,n,t),0===w.get.selectionCount()?w.set.placeholderText():w.set.text(w.add.variables(A.count))):w.remove.value(i,n,t),t.removeClass(T.filtered).removeClass(T.active),S.useLabels&&t.removeClass(T.selected)})},selectedItem:function(){$.removeClass(T.selected)},value:function(e,t,n){var i,o=w.get.values();w.has.selectInput()?(w.verbose("Input is <select> removing selected option",e),i=w.remove.arrayValue(e,o),w.remove.optionValue(e)):(w.verbose("Removing from delimited values",e),i=w.remove.arrayValue(e,o),i=i.join(S.delimiter)),S.fireOnInit===!1&&w.is.initialLoad()?w.verbose("No callback on initial load",S.onRemove):S.onRemove.call(_,e,t,n),w.set.value(i,t,n),w.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),w.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=M.find(I.label),i=n.filter('[data-value="'+e+'"]');w.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||M.find(I.label).filter("."+T.active),w.verbose("Removing active label selections",e),w.remove.labels(e)},labels:function(t){t=t||M.find(I.label),w.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(D.value),o=n!==i?String(n):n,r=w.is.userValue(o);return S.onLabelRemove.call(t,n)===!1?void w.debug("Label remove callback cancelled removal"):(w.remove.message(),void(r?(w.remove.value(o),w.remove.label(o)):w.remove.selected(o)))})},tabbable:function(){w.has.search()?(w.debug("Searchable dropdown initialized"),N.removeAttr("tabindex"),W.removeAttr("tabindex")):(w.debug("Simple selection dropdown initialized"),M.removeAttr("tabindex"),W.removeAttr("tabindex"))}},has:{menuSearch:function(){return w.has.search()&&N.closest(W).length>0},search:function(){return N.length>0},sizer:function(){return U.length>0},selectInput:function(){return H.is("select")},minCharacters:function(e){return!S.minCharacters||(e=e!==i?String(e):String(w.get.query()),e.length>=S.minCharacters)},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=w.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return H.length>0},items:function(){return $.length>0},menu:function(){return W.length>0},message:function(){return 0!==W.children(I.message).length},label:function(e){var t=w.escape.value(e),n=M.find(I.label);return n.filter('[data-value="'+t+'"]').length>0},maxSelections:function(){return S.maxSelections&&w.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){var e=$.not(I.addition);return e.filter(I.unselectable).length===e.length},userSuggestion:function(){return W.children(I.addition).length>0},query:function(){return""!==w.get.query()},value:function(t){var n=w.get.values(),i=e.isArray(n)?n&&e.inArray(t,n)!==-1:n==t;return!!i}},is:{active:function(){return M.hasClass(T.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&M.closest("label").length>0},alreadySetup:function(){return M.is("select")&&M.parent(I.dropdown).length>0&&0===M.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):W.transition&&W.transition("is animating")},disabled:function(){return M.hasClass(T.disabled)},focused:function(){return n.activeElement===M[0]},focusedOnSearch:function(){return n.activeElement===N[0]},allFiltered:function(){return(w.is.multiple()||w.has.search())&&!(0==S.hideAdditions&&w.has.userSuggestion())&&!w.has.message()&&w.has.allResultsFiltered()},hidden:function(e){return!w.is.visible(e)},initialLoad:function(){return v},onScreen:function(e){var t,n=e||W,i=!0,o={};return n.addClass(T.loading),t={context:{scrollTop:j.scrollTop(),height:j.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(w.verbose("Dropdown can fit in context downward",o),i=!0):o.below||o.above?(w.verbose("Dropdown cannot fit below, opening upward",o),i=!1):(w.verbose("Dropdown cannot fit in either direction, favoring downward",o),i=!0),n.removeClass(T.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return M.hasClass(T.multiple)},single:function(){return!w.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return M.hasClass(T.search)},searchSelection:function(){return w.has.search()&&1===N.parent(I.dropdown).length},selection:function(){return M.hasClass(T.selection)},userValue:function(t){return e.inArray(t,w.get.userValues())!==-1},upward:function(e){var t=e||M;return t.hasClass(T.upward)},visible:function(e){return e?e.hasClass(T.visible):W.hasClass(T.visible)}},can:{activate:function(e){return!!S.useLabels||(!w.has.maxSelections()||!(!w.has.maxSelections()||!e.hasClass(T.active)))},click:function(){return c||"click"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!w.is.disabled()&&(w.has.items()||w.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var o,r=n||W,s=n?function(){}:function(){w.hideSubMenus(),w.hideOthers(),w.set.active()};t=e.isFunction(t)?t:function(){},w.verbose("Doing menu show animation",r),w.set.direction(n),o=w.get.transition(n),w.is.selection()&&w.set.scrollPosition(w.get.selectedItem(),!0),(w.is.hidden(r)||w.is.animating(r))&&("none"==o?(s(),r.transition("show"),t.call(_)):e.fn.transition!==i&&M.transition("is supported")?r.transition({animation:o+" in",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:s,onComplete:function(){t.call(_)}}):w.error(L.noTransition,o))},hide:function(t,n){var o=n||W,r=(n?.9*S.duration:S.duration,n?function(){}:function(){w.can.click()&&w.unbind.intent(),w.remove.active()}),s=w.get.transition(n);t=e.isFunction(t)?t:function(){},(w.is.visible(o)||w.is.animating(o))&&(w.verbose("Doing menu hide animation",o),"none"==s?(r(),o.transition("hide"),t.call(_)):e.fn.transition!==i&&M.transition("is supported")?o.transition({animation:s+" out",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:r,onComplete:function(){"auto"==S.direction&&w.remove.upward(n),t.call(_)}}):w.error(L.transition))}},hideAndClear:function(){w.remove.searchTerm(),w.has.maxSelections()||(w.has.search()?w.hide(function(){w.remove.filteredItem()}):w.hide())},delay:{show:function(){w.verbose("Delaying show event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.show,S.delay.show)},hide:function(){w.verbose("Delaying hide event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.hide,S.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,o=!i&&!n,r=i&&t.search(O.quote)!==-1,s=[];return w.has.selectInput()&&!o&&r?(w.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){s.push(t.replace(O.quote,"&quot;"))}),s):t.replace(O.quote,"&quot;")):t},regExp:function(e){return e=String(e),e.replace(O.escape,"\\$&")}},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,S.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),w.verbose.apply(console,arguments)))},error:function(){S.silent||(w.error=Function.prototype.bind.call(console.error,console,S.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;S.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=S.name+":",n=0;u=!1,clearTimeout(w.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var s,a,l,c=G;return n=n||h,o=_||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==i)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==i?(a=c[o],!1):(w.error(L.method,t),!1);c=c[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},m?(G===i&&w.initialize(),w.invoke(f)):(G!==i&&G.invoke("destroy"),w.initialize())}),r!==i?r:s},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},o="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",r=t[n.disabled]?"disabled ":"";o+='<div class="'+r+'item" data-value="'+t[n.value]+'"'+i+">",o+=t[n.name],o+="</div>"}),o},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(o){var r,s=e(this),a=s.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return e(this).each(function(){var m,h=e.isPlainObject(o)?e.extend(!0,{},e.fn.search.settings,o):e.extend({},e.fn.search.settings),g=h.className,v=h.metadata,p=h.regExp,b=h.fields,y=h.selector,x=h.error,C=h.namespace,k="."+C,w=C+"-module",S=e(this),T=S.find(y.prompt),A=S.find(y.searchButton),E=S.find(y.results),R=S.find(y.result),D=S.find(y.category),F=this,O=S.data(w),I=!1;m={initialize:function(){m.verbose("Initializing module"),m.determine.searchFields(),m.bind.events(),m.set.type(),m.create.results(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),O=m,S.data(w,m)},destroy:function(){m.verbose("Destroying instance"),S.off(k).removeData(w)},refresh:function(){m.debug("Refreshing selector cache"),T=S.find(y.prompt),A=S.find(y.searchButton),D=S.find(y.category),E=S.find(y.results),R=S.find(y.result)},refreshResults:function(){E=S.find(y.results),R=S.find(y.result)},bind:{events:function(){m.verbose("Binding events to search"),h.automatic&&(S.on(m.get.inputEvent()+k,y.prompt,m.event.input),T.attr("autocomplete","off")),S.on("focus"+k,y.prompt,m.event.focus).on("blur"+k,y.prompt,m.event.blur).on("keydown"+k,y.prompt,m.handleKeyboard).on("click"+k,y.searchButton,m.query).on("mousedown"+k,y.results,m.event.result.mousedown).on("mouseup"+k,y.results,m.event.result.mouseup).on("click"+k,y.result,m.event.result.click)}},determine:{searchFields:function(){o&&o.searchFields!==i&&(h.searchFields=o.searchFields)}},event:{input:function(){clearTimeout(m.timer),m.timer=setTimeout(m.query,h.searchDelay)},focus:function(){m.set.focus(),m.has.minimumCharacters()&&(m.query(),m.can.show()&&m.showResults())},blur:function(e){var t=n.activeElement===this,i=function(){m.cancel.query(),m.remove.focus(),m.timer=setTimeout(m.hideResults,h.hideDelay)};t||(m.resultsClicked?(m.debug("Determining if user action caused search to close"),S.one("click.close"+k,y.results,function(e){return m.is.inMessage(e)||I?void T.focus():(I=!1,void(m.is.animating()||m.is.hidden()||i()))})):(m.debug("Input blurred without user action, closing results"),i()))},result:{mousedown:function(){m.resultsClicked=!0},mouseup:function(){m.resultsClicked=!1},click:function(n){m.debug("Search result selected");var i=e(this),o=i.find(y.title).eq(0),r=i.is("a[href]")?i:i.find("a[href]").eq(0),s=r.attr("href")||!1,a=r.attr("target")||!1,l=(o.html(),o.length>0&&o.text()),c=m.get.results(),u=i.data(v.result)||m.get.result(l,c);return e.isFunction(h.onSelect)&&h.onSelect.call(F,u,c)===!1?(m.debug("Custom onSelect callback cancelled default select action"),void(I=!0)):(m.hideResults(),l&&m.set.value(l),void(s&&(m.verbose("Opening search link found in result",r),"_blank"==a||n.ctrlKey?t.open(s):t.location.href=s)))}}},handleKeyboard:function(e){var t,n=S.find(y.result),i=S.find(y.category),o=n.index(n.filter("."+g.active)),r=n.length,s=e.which,a={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(s==a.escape&&(m.verbose("Escape key pressed, blurring search field"),m.trigger.blur()),m.is.visible())if(s==a.enter){if(m.verbose("Enter key pressed, selecting active result"),n.filter("."+g.active).length>0)return m.event.result.click.call(n.filter("."+g.active),e),e.preventDefault(),!1}else s==a.upArrow?(m.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,i.removeClass(g.active),n.removeClass(g.active).eq(t).addClass(g.active).closest(i).addClass(g.active),e.preventDefault()):s==a.downArrow&&(m.verbose("Down key pressed, changing active result"),t=o+1>=r?o:o+1,i.removeClass(g.active),n.removeClass(g.active).eq(t).addClass(g.active).closest(i).addClass(g.active),e.preventDefault());else s==a.enter&&(m.verbose("Enter key pressed, executing query"),m.query(),m.set.buttonPressed(),T.one("keyup",m.remove.buttonFocus))},setup:{api:function(t){var n={debug:h.debug,on:!1,cache:!0,action:"search",urlData:{query:t},onSuccess:function(e){m.parse.response.call(F,e,t)},onAbort:function(e){},onFailure:function(){m.displayMessage(x.serverError)},onError:m.error};e.extend(!0,n,h.apiSettings),m.verbose("Setting up API request",n),S.api(n)}},can:{useAPI:function(){return e.fn.api!==i},show:function(){return m.is.focused()&&!m.is.visible()&&!m.is.empty()},transition:function(){return h.transition&&e.fn.transition!==i&&S.transition("is supported")}},is:{animating:function(){return E.hasClass(g.animating)},hidden:function(){return E.hasClass(g.hidden)},inMessage:function(t){return t.target&&e(t.target).closest(y.message).length>0},empty:function(){return""===E.html()},visible:function(){return E.filter(":visible").length>0},focused:function(){return T.filter(":focus").length>0}},trigger:{blur:function(){var e=n.createEvent("HTMLEvents"),t=T[0];t&&(m.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=T[0],t=e!==i&&e.oninput!==i?"input":e!==i&&e.onpropertychange!==i?"propertychange":"keyup";return t},value:function(){return T.val()},results:function(){var e=S.data(v.results);return e},result:function(t,n){var o=["title","id"],r=!1;return t=t!==i?t:m.get.value(),n=n!==i?n:m.get.results(),"category"===h.type?(m.debug("Finding result that matches",t),e.each(n,function(n,i){if(e.isArray(i.results)&&(r=m.search.object(t,i.results,o)[0]))return!1})):(m.debug("Finding result in results object",t),r=m.search.object(t,n,o)[0]),r||!1}},select:{firstResult:function(){m.verbose("Selecting first result"),R.first().addClass(g.active)}},set:{focus:function(){S.addClass(g.focus)},loading:function(){S.addClass(g.loading)},value:function(e){m.verbose("Setting search input value",e),T.val(e)},type:function(e){e=e||h.type,"category"==h.type&&S.addClass(h.type)},buttonPressed:function(){A.addClass(g.pressed)}},remove:{loading:function(){S.removeClass(g.loading)},focus:function(){S.removeClass(g.focus)},buttonPressed:function(){A.removeClass(g.pressed)}},query:function(){var t=m.get.value(),n=m.read.cache(t);m.has.minimumCharacters()?(n?(m.debug("Reading result from cache",t),m.save.results(n.results),m.addResults(n.html),m.inject.id(n.results)):(m.debug("Querying for",t),e.isPlainObject(h.source)||e.isArray(h.source)?m.search.local(t):m.can.useAPI()?m.search.remote(t):m.error(x.source)),h.onSearchQuery.call(F,t)):m.hideResults()},search:{local:function(e){var t,n=m.search.object(e,h.content);m.set.loading(),m.save.results(n),m.debug("Returned local search results",n),t=m.generateResults({results:n}),m.remove.loading(),m.addResults(t),m.inject.id(n),m.write.cache(e,{html:t,results:n})},remote:function(e){S.api("is loading")&&S.api("abort"),m.setup.api(e),S.api("query")},object:function(t,n,o){var r=[],s=[],a=t.toString().replace(p.escape,"\\$&"),l=new RegExp(p.beginsWith+a,"i"),c=function(t,n){var i=e.inArray(n,r)==-1,o=e.inArray(n,s)==-1;i&&o&&t.push(n)};return n=n||h.source,o=o!==i?o:h.searchFields,e.isArray(o)||(o=[o]),n===i||n===!1?(m.error(x.source),[]):(e.each(o,function(i,o){e.each(n,function(e,n){var i="string"==typeof n[o];i&&(n[o].search(l)!==-1?c(r,n):h.searchFullText&&m.fuzzySearch(t,n[o])&&c(s,n))})}),e.merge(r,s))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var s=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===s)continue e;return!1}return!0},parse:{response:function(e,t){var n=m.generateResults(e);m.verbose("Parsing server response",e),e!==i&&t!==i&&e[b.results]!==i&&(m.addResults(n),m.inject.id(e[b.results]),m.write.cache(t,{html:n,results:e[b.results]}),m.save.results(e[b.results]))}},cancel:{query:function(){m.can.useAPI()&&S.api("abort")}},has:{minimumCharacters:function(){var e=m.get.value(),t=e.length;return t>=h.minCharacters}},clear:{cache:function(e){var t=S.data(v.cache);e?e&&t&&t[e]&&(m.debug("Removing value from cache",e),delete t[e],S.data(v.cache,t)):(m.debug("Clearing cache",e),S.removeData(v.cache))}},read:{cache:function(e){var t=S.data(v.cache);return!!h.cache&&(m.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==i&&t[e])}},create:{id:function(e,t){var n,o,r=e+1;return t!==i?(n=String.fromCharCode(97+t),o=n+r,m.verbose("Creating category result id",o)):(o=r,m.verbose("Creating result id",o)),o},results:function(){0===E.length&&(E=e("<div />").addClass(g.results).appendTo(S))}},inject:{result:function(e,t,n){m.verbose("Injecting result into results");var o=n!==i?E.children().eq(n).children(y.result).eq(t):E.children(y.result).eq(t);m.verbose("Injecting results metadata",o),o.data(v.result,e)},id:function(t){m.debug("Injecting unique ids into results");var n=0,o=0;return"category"===h.type?e.each(t,function(t,r){o=0,e.each(r.results,function(e,t){var s=r.results[e];s.id===i&&(s.id=m.create.id(o,n)),m.inject.result(s,o,n),o++}),n++}):e.each(t,function(e,n){var r=t[e];r.id===i&&(r.id=m.create.id(o)),m.inject.result(r,o),o++}),t}},save:{results:function(e){m.verbose("Saving current search results to metadata",e),S.data(v.results,e)}},write:{cache:function(e,t){var n=S.data(v.cache)!==i?S.data(v.cache):{};h.cache&&(m.verbose("Writing generated html to cache",e,t),n[e]=t,S.data(v.cache,n))}},addResults:function(t){return e.isFunction(h.onResultsAdd)&&h.onResultsAdd.call(E,t)===!1?(m.debug("onResultsAdd callback cancelled default action"),!1):void(t?(E.html(t),m.refreshResults(),h.selectFirstResult&&m.select.firstResult(),m.showResults()):m.hideResults())},showResults:function(){m.is.visible()||(m.can.transition()?(m.debug("Showing results with css animations"),E.transition({animation:h.transition+" in",debug:h.debug,verbose:h.verbose,duration:h.duration,queue:!0})):(m.debug("Showing results with javascript"),E.stop().fadeIn(h.duration,h.easing)),h.onResultsOpen.call(E))},hideResults:function(){m.is.visible()&&(m.can.transition()?(m.debug("Hiding results with css animations"),E.transition({animation:h.transition+" out",debug:h.debug,verbose:h.verbose,duration:h.duration,queue:!0})):(m.debug("Hiding results with javascript"),E.stop().fadeOut(h.duration,h.easing)),h.onResultsClose.call(E))},generateResults:function(t){m.debug("Generating html from response",t);var n=h.templates[h.type],i=e.isPlainObject(t[b.results])&&!e.isEmptyObject(t[b.results]),o=e.isArray(t[b.results])&&t[b.results].length>0,r="";return i||o?(h.maxResults>0&&(i?"standard"==h.type&&m.error(x.maxResults):t[b.results]=t[b.results].slice(0,h.maxResults)),e.isFunction(n)?r=n(t,b):m.error(x.noTemplate,!1)):h.showNoResults&&(r=m.displayMessage(x.noResults,"empty")),h.onResults.call(F,t),r},displayMessage:function(e,t){return t=t||"standard",m.debug("Displaying message",e,t),m.addResults(h.templates.message(e,t)),h.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,h.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),
m.verbose.apply(console,arguments)))},error:function(){h.silent||(m.error=Function.prototype.bind.call(console.error,console,h.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=h.name+":",n=0;l=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),s.length>1&&(t+=" ("+s.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var s,a,l,c=O;return n=n||f,o=F||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==i)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==i&&(a=c[o],!1);c=c[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},d?(O===i&&m.initialize(),m.invoke(u)):(O!==i&&O.invoke("destroy"),m.initialize())}),r!==i?r:this},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var o="";e.fn.search.settings.templates.escape;return t[n.categoryResults]!==i&&(e.each(t[n.categoryResults],function(t,r){r[n.results]!==i&&r.results.length>0&&(o+='<div class="category">',r[n.categoryName]!==i&&(o+='<div class="name">'+r[n.categoryName]+"</div>"),e.each(r.results,function(e,t){o+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(o+='<div class="image"> <img src="'+t[n.image]+'"></div>'),o+='<div class="content">',t[n.price]!==i&&(o+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(o+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(o+='<div class="description">'+t[n.description]+"</div>"),o+="</div>",o+="</a>"}),o+="</div>")}),t[n.action]&&(o+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),o)},standard:function(t,n){var o="";return t[n.results]!==i&&(e.each(t[n.results],function(e,t){o+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(o+='<div class="image"> <img src="'+t[n.image]+'"></div>'),o+='<div class="content">',t[n.price]!==i&&(o+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(o+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(o+='<div class="description">'+t[n.description]+"</div>"),o+="</div>",o+="</a>"}),t[n.action]&&(o+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),o)}}}}(jQuery,window,document),function(e,t,n,i){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(o){var r,s=e(this),a=e(t),l=e(n),c=e("html"),u=e("head"),d=s.selector||"",f=(new Date).getTime(),m=[],h=arguments[0],g="string"==typeof h,v=[].slice.call(arguments,1),p=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,b,y,x,C,k,w=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),S=w.selector,T=w.className,A=w.namespace,E=w.regExp,R=w.error,D="."+A,F="module-"+A,O=e(this),I=e(w.context),L=O.children(S.sidebar),q=I.children(S.fixed),P=I.children(S.pusher),z=this,M=O.data(F);k={initialize:function(){k.debug("Initializing sidebar",o),k.create.id(),C=k.get.transitionEvent(),k.is.ios()&&k.set.ios(),w.delaySetup?p(k.setup.layout):k.setup.layout(),p(function(){k.setup.cache()}),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),M=k,O.data(F,k)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,k.verbose("Creating unique id for element",y)}},destroy:function(){k.verbose("Destroying previous module for",O),O.off(D).removeData(F),k.is.ios()&&k.remove.ios(),I.off(b),a.off(b),l.off(b)},event:{clickaway:function(e){var t=P.find(e.target).length>0||P.is(e.target),n=I.is(e.target);t&&(k.verbose("User clicked on dimmed page"),k.hide()),n&&(k.verbose("User clicked on dimmable context (scaled out page)"),k.hide())},touch:function(e){},containScroll:function(e){z.scrollTop<=0&&(z.scrollTop=1),z.scrollTop+z.offsetHeight>=z.scrollHeight&&(z.scrollTop=z.scrollHeight-z.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(S.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){k.verbose("Adding clickaway events to context",I),w.closable&&I.on("click"+b,k.event.clickaway).on("touchend"+b,k.event.clickaway)},scrollLock:function(){w.scrollLock&&(k.debug("Disabling page scroll"),a.on("DOMMouseScroll"+b,k.event.scroll)),k.verbose("Adding events to contain sidebar scroll"),l.on("touchmove"+b,k.event.touch),O.on("scroll"+D,k.event.containScroll)}},unbind:{clickaway:function(){k.verbose("Removing clickaway events from context",I),I.off(b)},scrollLock:function(){k.verbose("Removing scroll lock from page"),l.off(b),a.off(b),O.off("scroll"+D)}},add:{inlineCSS:function(){var t,n=k.cache.width||O.outerWidth(),i=k.cache.height||O.outerHeight(),o=k.is.rtl(),r=k.get.direction(),a={left:n,right:-n,top:i,bottom:-i};o&&(k.verbose("RTL detected, flipping widths"),a.left=-n,a.right=n),t="<style>","left"===r||"right"===r?(k.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[r]+"px, 0, 0);           transform: translate3d("+a[r]+"px, 0, 0); }"):"top"!==r&&"bottom"!=r||(t+=" .ui.visible."+r+".sidebar ~ .fixed, .ui.visible."+r+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[r]+"px, 0);           transform: translate3d(0, "+a[r]+"px, 0); }"),k.is.ie()&&("left"===r||"right"===r?(k.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[r]+"px, 0, 0);           transform: translate3d("+a[r]+"px, 0, 0); }"):"top"!==r&&"bottom"!=r||(t+=" body.pushable > .ui.visible."+r+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[r]+"px, 0);           transform: translate3d(0, "+a[r]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",s=e(t).appendTo(u),k.debug("Adding sizing css to head",s)}},refresh:function(){k.verbose("Refreshing selector cache"),I=e(w.context),L=I.children(S.sidebar),P=I.children(S.pusher),q=I.children(S.fixed),k.clear.cache()},refreshSidebars:function(){k.verbose("Refreshing other sidebars"),L=I.children(S.sidebar)},repaint:function(){k.verbose("Forcing repaint event"),z.style.display="none";z.offsetHeight;z.scrollTop=z.scrollTop,z.style.display=""},setup:{cache:function(){k.cache={width:O.outerWidth(),height:O.outerHeight(),rtl:"rtl"==O.css("direction")}},layout:function(){0===I.children(S.pusher).length&&(k.debug("Adding wrapper element for sidebar"),k.error(R.pusher),P=e('<div class="pusher" />'),I.children().not(S.omitted).not(L).wrapAll(P),k.refresh()),0!==O.nextAll(S.pusher).length&&O.nextAll(S.pusher)[0]===P[0]||(k.debug("Moved sidebar to correct parent element"),k.error(R.movedSidebar,z),O.detach().prependTo(I),k.refresh()),k.clear.cache(),k.set.pushable(),k.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(k[n])?k[n]:k.toggle,i.length>0?(k.debug("Attaching sidebar events to element",t,n),i.on("click"+D,n)):k.error(R.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},k.is.hidden()){if(k.refreshSidebars(),w.overlay&&(k.error(R.overlay),w.transition="overlay"),k.refresh(),k.othersActive())if(k.debug("Other sidebars currently visible"),w.exclusive){if("overlay"!=w.transition)return void k.hideOthers(k.show);k.hideOthers()}else w.transition="overlay";k.pushPage(function(){t.call(z),w.onShow.call(z)}),w.onChange.call(z),w.onVisible.call(z)}else k.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(k.is.visible()||k.is.animating())&&(k.debug("Hiding sidebar",t),k.refreshSidebars(),k.pullPage(function(){t.call(z),w.onHidden.call(z)}),w.onChange.call(z),w.onHide.call(z))},othersAnimating:function(){return L.not(O).filter("."+T.animating).length>0},othersVisible:function(){return L.not(O).filter("."+T.visible).length>0},othersActive:function(){return k.othersVisible()||k.othersAnimating()},hideOthers:function(e){var t=L.not(O).filter("."+T.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){k.verbose("Determining toggled direction"),k.is.hidden()?k.show():k.hide()},pushPage:function(t){var n,i,o,r=k.get.transition(),s="overlay"===r||k.othersActive()?O:P;t=e.isFunction(t)?t:function(){},"scale down"==w.transition&&k.scrollToTop(),k.set.transition(r),k.repaint(),n=function(){k.bind.clickaway(),k.add.inlineCSS(),k.set.animating(),k.set.visible()},i=function(){k.set.dimmed()},o=function(e){e.target==s[0]&&(s.off(C+b,o),k.remove.animating(),k.bind.scrollLock(),t.call(z))},s.off(C+b),s.on(C+b,o),p(n),w.dimPage&&!k.othersVisible()&&p(i)},pullPage:function(t){var n,i,o=k.get.transition(),r="overlay"==o||k.othersActive()?O:P;t=e.isFunction(t)?t:function(){},k.verbose("Removing context push state",k.get.direction()),k.unbind.clickaway(),k.unbind.scrollLock(),n=function(){k.set.transition(o),k.set.animating(),k.remove.visible(),w.dimPage&&!k.othersVisible()&&P.removeClass(T.dimmed)},i=function(e){e.target==r[0]&&(r.off(C+b,i),k.remove.animating(),k.remove.transition(),k.remove.inlineCSS(),("scale down"==o||w.returnScroll&&k.is.mobile())&&k.scrollBack(),t.call(z))},r.off(C+b),r.on(C+b,i),p(n)},scrollToTop:function(){k.verbose("Scrolling to top of page to avoid animation issues"),x=e(t).scrollTop(),O.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){k.verbose("Scrolling back to original page position"),t.scrollTo(0,x)},clear:{cache:function(){k.verbose("Clearing cached dimensions"),k.cache={}}},set:{ios:function(){c.addClass(T.ios)},pushed:function(){I.addClass(T.pushed)},pushable:function(){I.addClass(T.pushable)},dimmed:function(){P.addClass(T.dimmed)},active:function(){O.addClass(T.active)},animating:function(){O.addClass(T.animating)},transition:function(e){e=e||k.get.transition(),O.addClass(e)},direction:function(e){e=e||k.get.direction(),O.addClass(T[e])},visible:function(){O.addClass(T.visible)},overlay:function(){O.addClass(T.overlay)}},remove:{inlineCSS:function(){k.debug("Removing inline css styles",s),s&&s.length>0&&s.remove()},ios:function(){c.removeClass(T.ios)},pushed:function(){I.removeClass(T.pushed)},pushable:function(){I.removeClass(T.pushable)},active:function(){O.removeClass(T.active)},animating:function(){O.removeClass(T.animating)},transition:function(e){e=e||k.get.transition(),O.removeClass(e)},direction:function(e){e=e||k.get.direction(),O.removeClass(T[e])},visible:function(){O.removeClass(T.visible)},overlay:function(){O.removeClass(T.overlay)}},get:{direction:function(){return O.hasClass(T.top)?T.top:O.hasClass(T.right)?T.right:O.hasClass(T.bottom)?T.bottom:T.left},transition:function(){var e,t=k.get.direction();return e=k.is.mobile()?"auto"==w.mobileTransition?w.defaultTransition.mobile[t]:w.mobileTransition:"auto"==w.transition?w.defaultTransition.computer[t]:w.transition,k.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(t.style[e]!==i)return o[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(E.ios),n=e.match(E.mobileChrome);return!(!t||n)&&(k.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent,t=e.match(E.mobile);return t?(k.verbose("Browser was found to be mobile",e),!0):(k.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!k.is.visible()},visible:function(){return O.hasClass(T.visible)},open:function(){return k.is.visible()},closed:function(){return k.is.hidden()},vertical:function(){return O.hasClass(T.top)},animating:function(){return I.hasClass(T.animating)},rtl:function(){return k.cache.rtl===i&&(k.cache.rtl="rtl"==O.css("direction")),k.cache.rtl}},setting:function(t,n){if(k.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];e.isPlainObject(w[t])?e.extend(!0,w[t],n):w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,w.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),k.verbose.apply(console,arguments)))},error:function(){w.silent||(k.error=Function.prototype.bind.call(console.error,console,w.name+":"),k.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:z,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=w.name+":",n=0;f=!1,clearTimeout(k.performance.timer),e.each(m,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",d&&(t+=" '"+d+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var s,a,l,c=M;return n=n||v,o=z||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==i)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==i?(a=c[o],!1):(k.error(R.method,t),!1);c=c[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},g?(M===i&&k.initialize(),k.invoke(h)):(M!==i&&k.invoke("destroy"),k.initialize())}),r!==i?r:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(o){var r,s=e(this),a=s.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return s.each(function(){var s,m,h,g,v,p=e.isPlainObject(o)?e.extend(!0,{},e.fn.sticky.settings,o):e.extend({},e.fn.sticky.settings),b=p.className,y=p.namespace,x=p.error,C="."+y,k="module-"+y,w=e(this),S=e(t),T=e(p.scrollContext),A=(w.selector||"",w.data(k)),E=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},R=this;v={initialize:function(){v.determineContainer(),v.determineContext(),v.verbose("Initializing sticky",p,s),v.save.positions(),v.checkErrors(),v.bind.events(),p.observeChanges&&v.observeChanges(),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),A=v,w.data(k,v)},destroy:function(){v.verbose("Destroying previous instance"),v.reset(),h&&h.disconnect(),g&&g.disconnect(),S.off("load"+C,v.event.load).off("resize"+C,v.event.resize),T.off("scrollchange"+C,v.event.scrollchange),w.removeData(k)},observeChanges:function(){"MutationObserver"in t&&(h=new MutationObserver(v.event.documentChanged),g=new MutationObserver(v.event.changed),h.observe(n,{childList:!0,subtree:!0}),g.observe(R,{childList:!0,subtree:!0}),g.observe(m[0],{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",g))},determineContainer:function(){s=w.offsetParent()},determineContext:function(){if(m=p.context?e(p.context):s,0===m.length)return void v.error(x.invalidContext,p.context,w)},checkErrors:function(){if(v.is.hidden()&&v.error(x.visible,w),v.cache.element.height>v.cache.context.height)return v.reset(),void v.error(x.elementSize,w)},bind:{events:function(){S.on("load"+C,v.event.load).on("resize"+C,v.event.resize),T.off("scroll"+C).on("scroll"+C,v.event.scroll).on("scrollchange"+C,v.event.scrollchange)}},event:{changed:function(e){clearTimeout(v.timer),v.timer=setTimeout(function(){v.verbose("DOM tree modified, updating sticky menu",e),v.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==R||e(t).find(R).length>0)&&(v.debug("Element removed from DOM, tearing down events"),v.destroy())})})},load:function(){v.verbose("Page contents finished loading"),E(v.refresh)},resize:function(){v.verbose("Window resized"),E(v.refresh)},scroll:function(){E(function(){T.triggerHandler("scrollchange"+C,T.scrollTop())})},scrollchange:function(e,t){v.stick(t),p.onScroll.call(R)}},refresh:function(e){v.reset(),p.context||v.determineContext(),e&&v.determineContainer(),v.save.positions(),v.stick(),p.onReposition.call(R)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(b.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){v.lastScroll=e},elementScroll:function(e){v.elementScroll=e},positions:function(){var e={height:T.height()},t={margin:{top:parseInt(w.css("margin-top"),10),bottom:parseInt(w.css("margin-bottom"),10)},offset:w.offset(),width:w.outerWidth(),height:w.outerHeight()},n={offset:m.offset(),height:m.outerHeight()};({height:s.outerHeight()});v.is.standardScroll()||(v.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=T.scrollTop(),e.left=T.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),v.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},v.set.containerSize(),v.set.size(),v.stick(),v.debug("Caching element positions",v.cache)}},get:{direction:function(e){var t="down";return e=e||T.scrollTop(),v.lastScroll!==i&&(v.lastScroll<e?t="down":v.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||T.scrollTop(),v.lastScroll?e-v.lastScroll:0},currentElementScroll:function(){return v.elementScroll?v.elementScroll:v.is.top()?Math.abs(parseInt(w.css("top"),10))||0:Math.abs(parseInt(w.css("bottom"),10))||0},elementScroll:function(e){e=e||T.scrollTop();var t=v.cache.element,n=v.cache.scrollContext,i=v.get.scrollChange(e),o=t.height-n.height+p.offset,r=v.get.currentElementScroll(),s=r+i;return r=v.cache.fits||s<0?0:s>o?o:s}},remove:{lastScroll:function(){delete v.lastScroll},elementScroll:function(e){delete v.elementScroll},offset:function(){w.css("margin-top","")}},set:{offset:function(){v.verbose("Setting offset on element",p.offset),w.css("margin-top",p.offset)},containerSize:function(){var e=s.get(0).tagName;"HTML"===e||"body"==e?v.determineContainer():Math.abs(s.outerHeight()-v.cache.context.height)>p.jitter&&(v.debug("Context has padding, specifying exact height for container",v.cache.context.height),s.css({height:v.cache.context.height}))},minimumSize:function(){var e=v.cache.element;s.css("min-height",e.height)},scroll:function(e){v.debug("Setting scroll on element",e),v.elementScroll!=e&&(v.is.top()&&w.css("bottom","").css("top",-e),v.is.bottom()&&w.css("top","").css("bottom",e))},size:function(){0!==v.cache.element.height&&0!==v.cache.element.width&&(R.style.setProperty("width",v.cache.element.width+"px","important"),R.style.setProperty("height",v.cache.element.height+"px","important"))}},is:{standardScroll:function(){return T[0]==t},top:function(){return w.hasClass(b.top)},bottom:function(){return w.hasClass(b.bottom)},initialPosition:function(){return!v.is.fixed()&&!v.is.bound()},hidden:function(){return!w.is(":visible")},bound:function(){return w.hasClass(b.bound)},fixed:function(){return w.hasClass(b.fixed)}},stick:function(e){var t=e||T.scrollTop(),n=v.cache,i=n.fits,o=n.element,r=n.scrollContext,s=n.context,a=v.is.bottom()&&p.pushing?p.bottomOffset:p.offset,e={top:t+a,bottom:t+a+r.height},l=(v.get.direction(e.top),i?0:v.get.elementScroll(e.top)),c=!i,u=0!==o.height;u&&(v.is.initialPosition()?e.top>=s.bottom?(v.debug("Initial element position is bottom of container"),v.bindBottom()):e.top>o.top&&(o.height+e.top-l>=s.bottom?(v.debug("Initial element position is bottom of container"),v.bindBottom()):(v.debug("Initial element position is fixed"),v.fixTop())):v.is.fixed()?v.is.top()?e.top<=o.top?(v.debug("Fixed element reached top of container"),v.setInitialPosition()):o.height+e.top-l>=s.bottom?(v.debug("Fixed element reached bottom of container"),v.bindBottom()):c&&(v.set.scroll(l),v.save.lastScroll(e.top),v.save.elementScroll(l)):v.is.bottom()&&(e.bottom-o.height<=o.top?(v.debug("Bottom fixed rail has reached top of container"),v.setInitialPosition()):e.bottom>=s.bottom?(v.debug("Bottom fixed rail has reached bottom of container"),v.bindBottom()):c&&(v.set.scroll(l),v.save.lastScroll(e.top),v.save.elementScroll(l))):v.is.bottom()&&(e.top<=o.top?(v.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),v.setInitialPosition()):p.pushing?v.is.bound()&&e.bottom<=s.bottom&&(v.debug("Fixing bottom attached element to bottom of browser."),v.fixBottom()):v.is.bound()&&e.top<=s.bottom-o.height&&(v.debug("Fixing bottom attached element to top of browser."),v.fixTop())))},bindTop:function(){v.debug("Binding element to top of parent container"),v.remove.offset(),w.css({left:"",top:"",marginBottom:""}).removeClass(b.fixed).removeClass(b.bottom).addClass(b.bound).addClass(b.top),p.onTop.call(R),p.onUnstick.call(R)},bindBottom:function(){v.debug("Binding element to bottom of parent container"),v.remove.offset(),w.css({left:"",top:""}).removeClass(b.fixed).removeClass(b.top).addClass(b.bound).addClass(b.bottom),p.onBottom.call(R),p.onUnstick.call(R)},setInitialPosition:function(){v.debug("Returning to initial position"),v.unfix(),v.unbind()},fixTop:function(){v.debug("Fixing element to top of page"),v.set.minimumSize(),v.set.offset(),w.css({left:v.cache.element.left,bottom:"",marginBottom:""}).removeClass(b.bound).removeClass(b.bottom).addClass(b.fixed).addClass(b.top),p.onStick.call(R)},fixBottom:function(){v.debug("Sticking element to bottom of page"),v.set.minimumSize(),v.set.offset(),w.css({left:v.cache.element.left,bottom:"",marginBottom:""}).removeClass(b.bound).removeClass(b.top).addClass(b.fixed).addClass(b.bottom),p.onStick.call(R)},unbind:function(){v.is.bound()&&(v.debug("Removing container bound position on element"),v.remove.offset(),w.removeClass(b.bound).removeClass(b.top).removeClass(b.bottom))},unfix:function(){v.is.fixed()&&(v.debug("Removing fixed position on element"),v.remove.offset(),w.removeClass(b.fixed).removeClass(b.top).removeClass(b.bottom),p.onUnstick.call(R))},reset:function(){v.debug("Resetting elements position"),v.unbind(),v.unfix(),v.resetCSS(),v.remove.offset(),v.remove.lastScroll()},resetCSS:function(){w.css({width:"",height:""}),s.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,p.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),v.verbose.apply(console,arguments)))},error:function(){p.silent||(v.error=Function.prototype.bind.call(console.error,console,p.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,0)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(v.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var s,a,l,c=A;return n=n||f,o=R||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var r=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=s)c=c[r];else{if(c[r]!==i)return a=c[r],!1;if(!e.isPlainObject(c[o])||n==s)return c[o]!==i&&(a=c[o],!1);c=c[o]}})),e.isFunction(a)?l=a.apply(o,n):a!==i&&(l=a),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),a}},d?(A===i&&v.initialize(),v.invoke(u)):(A!==i&&A.invoke("destroy"),v.initialize())}),r!==i?r:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document);